<!DOCTYPE html>
<html lang="ta">

<head>
  <meta charset="UTF-8">
  <title>JOTHIZ | Kavundapadi Sugar, Bhavani Jamukalam & Organic Products</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ЁЯФР Security Headers -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com;
    script-src 'self' 'unsafe-inline' https://www.google.com https://www.gstatic.com;
    connect-src 'self' https://formspree.io https://www.google.com;
    img-src 'self' data:;
    frame-src https://www.google.com;
    base-uri 'self';
    form-action 'self' https://formspree.io;
    object-src 'none';
    upgrade-insecure-requests;
    ">

  <!-- ЁЯЫбя╕П reCAPTCHA Library -->
  <script src="https://www.google.com/recaptcha/api.js?render=6Ld5L1gsAAAAANznU_17Wn9cbvPO3OSeWy-Z1RZn"></script>

  <!-- ЁЯТ│ Payment Gateway (Razorpay) -->
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta name="referrer" content="no-referrer">

  <!-- ЁЯУ▒ Social Sharing Tags (Open Graph) -->
  <meta property="og:title" content="JOTHIZ | Kavundapadi Sugar, Bhavani Jamukalam & Organic Products">
  <meta property="og:description"
    content="Authentic Kavundapadi Country Sugar (GI), Bhavani Jamukalam & Traditional Handloom Products. 100% Pure & Organic.">
  <meta property="og:image" content="jothiz_banner.png">
  <meta property="og:url" content="https://jothiz.in">
  <meta property="og:type" content="website">

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="JOTHIZ | Authentic Traditional Products">
  <meta name="twitter:description"
    content="Pure Kavundapadi Sugar & Handloom Bhavani Jamukalam. 100% Organic & Chemical Free.">
  <meta name="twitter:image" content="jothiz_banner.png">

  <!-- ЁЯЦ╝я╕П Favicon -->
  <link rel="icon" type="image/png" href="jothiz_logo.png">

  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap"
    rel="stylesheet">

  <style>
    :root {
      --primary: #1b4332;
      /* Deep Forest Green */
      --primary-light: #2d6a4f;
      --primary-dark: #081c15;
      --accent: #d4af37;
      /* Champagne Gold */
      --accent-light: #f1d37e;
      --bg: #fdfdfb;
      --card-bg: #ffffff;
      --text: #1a1a1a;
      --text-light: #555c58;
      --border: #eaefeb;
      --white: #ffffff;
      --shadow-sm: 0 4px 12px rgba(8, 28, 21, 0.05);
      --shadow-md: 0 12px 24px rgba(8, 28, 21, 0.08);
      --shadow-lg: 0 20px 40px rgba(8, 28, 21, 0.12);
      --transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
      --radius-sm: 8px;
      --radius-md: 16px;
      --radius-lg: 24px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* Standard Image Styles */
    img {
      max-width: 100%;
      height: auto;
    }

    /* Exceptions for inputs */
    input,
    textarea,
    select {
      user-select: text;
      -webkit-user-select: text;
    }

    /* --- Header & Navigation --- */
    header {
      background: linear-gradient(rgba(8, 28, 21, 0.6), rgba(8, 28, 21, 0.8)), url('jothiz_banner.png');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: var(--white);
      padding: 120px 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 500px;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(0deg, var(--primary-dark) 0%, transparent 50%);
      opacity: 0.6;
      pointer-events: none;
    }

    header .header-content {
      position: relative;
      z-index: 2;
      max-width: 800px;
    }

    header h1 {
      font-family: 'Playfair Display', serif;
      font-size: 5rem;
      font-weight: 700;
      letter-spacing: 12px;
      margin-bottom: 20px;
      text-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      animation: fadeInDown 1.2s cubic-bezier(0.165, 0.84, 0.44, 1);
      color: var(--white);
    }

    header p {
      font-size: 1.6rem;
      opacity: 0.9;
      letter-spacing: 6px;
      text-transform: uppercase;
      color: var(--accent);
      font-weight: 500;
      margin-top: 10px;
      animation: fadeInUp 1.5s cubic-bezier(0.165, 0.84, 0.44, 1);
    }

    /* --- Improved Sectioning --- */
    section:nth-of-type(even) {
      background: var(--white);
    }

    section:nth-of-type(odd) {
      background: #f8f9f8;
      /* Very subtle green tint to match brand */
    }

    nav {
      position: sticky;
      top: 0;
      background: rgba(255, 255, 255, 0.85);
      /* Glass effect */
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      z-index: 1000;
      border-bottom: 1px solid rgba(27, 67, 50, 0.05);
      padding: 15px 0;
      transition: var(--transition);
    }

    .nav-container {
      max-width: 1300px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 30px;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
    }

    .logo-img {
      height: 45px;
      width: auto;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
    }

    .logo-text {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary);
      letter-spacing: 2px;
    }

    @keyframes cartPulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.3);
      }

      100% {
        transform: scale(1);
      }
    }

    .cart-pulse {
      animation: cartPulse 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .back-to-top {
      position: fixed;
      bottom: 100px;
      right: 20px;
      background: var(--primary);
      color: white;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow-md);
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      z-index: 999;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .back-to-top.show {
      opacity: 1;
      visibility: visible;
    }

    .back-to-top svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
    }

    .cart-svg {
      width: 28px;
      height: 28px;
      fill: var(--primary);
    }

    .cart-badge {
      position: absolute;
      top: 0;
      right: 0;
      background: var(--accent);
      color: var(--white);
      font-size: 11px;
      font-weight: 700;
      min-width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      animation: pop 0.3s ease;
    }

    /* --- Marquee --- */
    .marquee {
      background: #eef7f1;
      padding: 10px 0;
      overflow: hidden;
      white-space: nowrap;
      border-bottom: 1px solid var(--border);
    }

    .marquee span {
      display: inline-block;
      padding-left: 100%;
      animation: marquee 30s linear infinite;
      font-size: 14px;
      color: var(--primary);
      font-weight: 500;
    }

    @keyframes marquee {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(-100%);
      }
    }

    /* --- Container --- */
    .container {
      max-width: 1200px;
      margin: auto;
      padding: 60px 20px;
    }

    .section-title {
      text-align: center;
      margin-bottom: 50px;
    }

    .section-title h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 10px;
    }

    .section-title p {
      color: var(--text-light);
      font-size: 1rem;
    }

    /* --- Product Grid --- */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 30px;
    }

    .product-card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: var(--transition);
      border: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .product-card:hover {
      transform: translateY(-12px);
      box-shadow: 0 30px 60px rgba(8, 28, 21, 0.15);
      border-color: var(--accent);
    }

    .product-image {
      width: 100%;
      height: 300px;
      overflow: hidden;
      background: #f8f8f8;
      position: relative;
    }

    .product-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
    }

    .img-disclaimer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(8, 28, 21, 0.7);
      color: #fff;
      font-size: 10px;
      padding: 6px;
      text-align: center;
      backdrop-filter: blur(4px);
    }

    .product-card:hover .product-image img {
      transform: scale(1.08);
    }

    .product-badge {
      position: absolute;
      top: 20px;
      right: 20px;
      background: var(--accent);
      color: var(--primary-dark);
      padding: 6px 16px;
      border-radius: 50px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      z-index: 10;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .product-info {
      padding: 30px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }

    .product-category {
      font-size: 12px;
      color: var(--accent);
      text-transform: uppercase;
      font-weight: 700;
      letter-spacing: 2px;
      margin-bottom: 12px;
    }

    .product-name {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 15px;
      line-height: 1.3;
      font-family: 'Playfair Display', serif;
    }

    .product-desc {
      font-size: 14px;
      color: var(--text-light);
      margin-bottom: 20px;
      line-height: 1.7;
      list-style: none;
    }

    .product-desc li {
      position: relative;
      padding-left: 22px;
      margin-bottom: 8px;
    }

    .product-desc li::before {
      content: 'тЬж';
      position: absolute;
      left: 0;
      color: var(--accent);
      font-size: 14px;
    }

    .product-actions {
      margin-top: auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
      padding-top: 25px;
      border-top: 1px solid var(--border);
    }

    .price-display {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 5px;
    }

    .action-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }

    .btn {
      border: none;
      padding: 14px;
      border-radius: var(--radius-md);
      font-weight: 700;
      font-size: 14px;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      letter-spacing: 0.5px;
    }

    .btn-cart {
      background: var(--bg);
      color: var(--primary);
      border: 1px solid var(--primary);
    }

    .btn-cart:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }

    .btn-order {
      background: var(--primary);
      color: white;
    }

    .btn-order:hover {
      background: var(--primary-dark);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(8, 28, 21, 0.2);
    }

    /* --- Cart Sidebar --- */
    .cart-sidebar {
      position: fixed;
      top: 0;
      right: -450px;
      width: 450px;
      height: 100vh;
      background: var(--white);
      z-index: 2000;
      box-shadow: -10px 0 50px rgba(0, 0, 0, 0.15);
      transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      flex-direction: column;
    }

    .cart-sidebar.open {
      right: 0;
    }

    .cart-header {
      padding: 25px;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .cart-header h2 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      color: var(--primary);
    }

    .close-cart {
      background: none;
      border: none;
      font-size: 28px;
      cursor: pointer;
      color: var(--text-light);
      transition: var(--transition);
    }

    .close-cart:hover {
      color: var(--primary);
      transform: rotate(90deg);
    }

    .cart-items {
      flex-grow: 1;
      overflow-y: auto;
      padding: 20px;
    }

    .cart-item {
      display: flex;
      gap: 15px;
      padding: 15px;
      background: #fafdfb;
      border-radius: 15px;
      margin-bottom: 15px;
      border: 1px solid var(--border);
      animation: slideInRight 0.3s ease;
    }

    .cart-item-img {
      width: 65px;
      height: 65px;
      border-radius: 10px;
      object-fit: cover;
    }

    .cart-item-info {
      flex-grow: 1;
    }

    .cart-item-name {
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 4px;
      color: var(--primary);
    }

    .cart-item-variant {
      font-size: 12px;
      color: var(--text-light);
      margin-bottom: 8px;
    }

    .cart-item-price {
      font-weight: 700;
      font-size: 14px;
      color: var(--text);
    }

    .cart-item-controls {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 10px;
    }

    .qty-btn {
      width: 28px;
      height: 28px;
      border: 1px solid var(--border);
      background: var(--white);
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: var(--primary);
      transition: var(--transition);
    }

    .qty-btn:hover {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .remove-btn {
      background: none;
      border: none;
      color: #c62828;
      cursor: pointer;
      margin-left: auto;
      font-size: 18px;
    }

    .cart-footer {
      padding: 25px;
      border-top: 1px solid var(--border);
      background: #fafdfb;
    }

    .cart-total-row {
      display: flex;
      justify-content: space-between;
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--primary);
    }

    .checkout-btn {
      width: 100%;
      background: var(--primary);
      color: white;
      border: none;
      padding: 16px;
      border-radius: 14px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: var(--transition);
    }

    .checkout-btn:hover {
      background: var(--primary-light);
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
    }

    /* --- Modal for Variety Selection / Quick Order --- */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(8px);
      z-index: 3000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
      animation: fadeIn 0.3s ease;
      overflow-y: auto;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: var(--white);
      width: 100%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
      border-radius: 25px;
      padding: 35px;
      position: relative;
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
      animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      scrollbar-width: thin;
      scrollbar-color: var(--primary) transparent;
    }

    .modal-content::-webkit-scrollbar {
      width: 6px;
    }

    .modal-content::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 10px;
    }

    .close-modal {
      position: absolute;
      top: 20px;
      right: 20px;
      background: none;
      border: none;
      font-size: 32px;
      cursor: pointer;
      color: var(--text-light);
    }

    .modal h2 {
      font-family: 'Playfair Display', serif;
      color: var(--primary);
      margin-bottom: 20px;
      text-align: center;
    }

    .form-group {
      margin-bottom: 18px;
    }

    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .modal input,
    .modal select,
    .modal textarea {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid var(--border);
      border-radius: 12px;
      outline: none;
      transition: var(--transition);
    }

    .modal input:focus,
    .modal select:focus,
    .modal textarea:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(27, 94, 32, 0.08);
    }

    .payment-options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 10px;
    }

    .payment-opt {
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 12px;
      text-align: center;
      cursor: pointer;
      font-weight: 600;
      font-size: 13px;
      transition: var(--transition);
    }

    .payment-opt.selected {
      border-color: var(--primary);
      background: rgba(27, 94, 32, 0.05);
      color: var(--primary);
    }

    .confirm-btn {
      width: 100%;
      background: #25D366;
      color: white;
      border: none;
      padding: 16px;
      border-radius: 15px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
      transition: var(--transition);
    }

    .confirm-btn:hover {
      background: #1eb954;
      transform: translateY(-2px);
    }

    /* --- Toast Notification --- */
    .toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: var(--primary-dark);
      color: white;
      padding: 12px 25px;
      border-radius: 50px;
      font-weight: 500;
      z-index: 4000;
      transition: transform 0.4s ease, opacity 0.4s;
      opacity: 0;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .toast.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }

    /* --- Overlay --- */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      z-index: 1500;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
    }

    .overlay.active {
      opacity: 1;
      visibility: visible;
    }

    /* --- Footer & Floats --- */
    footer {
      background: var(--primary-dark);
      color: #cfe6d6;
      text-align: center;
      padding: 40px 20px;
      font-size: 14px;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .footer-link {
      color: var(--accent);
      text-decoration: none;
      font-weight: 500;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .footer-link:hover {
      color: white;
      transform: translateY(-2px);
    }

    /* --- Enquiry Section --- */
    .enquiry-section {
      background: linear-gradient(135deg, var(--white), var(--bg));
      padding: 80px 20px;
      border-top: 1px solid var(--border);
    }

    .enquiry-container {
      max-width: 800px;
      margin: 0 auto;
      background: var(--white);
      padding: 50px;
      border-radius: 30px;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
    }

    .enquiry-form h2 {
      font-family: 'Playfair Display', serif;
      color: var(--primary);
      text-align: center;
      margin-bottom: 30px;
    }

    .enquiry-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .enquiry-full {
      grid-column: span 2;
    }

    .enquiry-form input,
    .enquiry-form textarea {
      width: 100%;
      padding: 15px;
      border: 1px solid var(--border);
      border-radius: 12px;
      outline: none;
      transition: var(--transition);
      background: #fcfdfc;
    }

    .enquiry-form input:focus,
    .enquiry-form textarea:focus {
      border-color: var(--primary);
      background: white;
      box-shadow: 0 0 0 4px rgba(27, 94, 32, 0.05);
    }

    .enquiry-btn {
      width: 100%;
      background: var(--primary);
      color: white;
      border: none;
      padding: 16px;
      border-radius: 14px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 20px;
      transition: var(--transition);
    }

    .enquiry-btn:hover {
      background: var(--primary-light);
      transform: translateY(-2px);
    }

    .error {
      color: #c62828;
      font-size: 12px;
      margin-top: 5px;
      display: none;
    }

    @media (max-width: 600px) {
      .enquiry-grid {
        grid-template-columns: 1fr;
      }

      .enquiry-full {
        grid-column: span 1;
      }

      .enquiry-container {
        padding: 30px 20px;
      }
    }

    .floats {
      position: fixed;
      bottom: 30px;
      right: 30px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 1400;
    }

    .float-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      transition: var(--transition);
      text-decoration: none;
    }

    .float-whatsapp {
      background: #25D366;
    }

    .float-call {
      background: #0d6efd;
    }

    .float-btn:hover {
      transform: translateY(-5px) scale(1.1);
    }

    .float-btn svg {
      width: 30px;
      height: 30px;
      fill: white;
    }

    .online-indicator {
      position: absolute;
      top: 5px;
      right: 5px;
      width: 12px;
      height: 12px;
      background: #44b700;
      border-radius: 50%;
      border: 2px solid white;
      animation: pulse-green 2s infinite;
    }

    @keyframes pulse-green {
      0% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(68, 183, 0, 0.7);
      }

      70% {
        transform: scale(1);
        box-shadow: 0 0 0 6px rgba(68, 183, 0, 0);
      }

      100% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(68, 183, 0, 0);
      }
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes slideUp {
      from {
        transform: translateY(30px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes slideInRight {
      from {
        transform: translateX(30px);
        opacity: 0;
      }

      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes pop {
      0% {
        transform: scale(0.8);
      }

      50% {
        transform: scale(1.2);
      }

      100% {
        transform: scale(1);
      }
    }

    /* --- Soul & Philosophy --- */
    .philosophy-section {
      padding: 120px 20px;
      background: linear-gradient(rgba(244, 250, 246, 0.95), rgba(244, 250, 246, 0.95)), url('philosophy_bg.png');
      background-size: cover;
      background-attachment: fixed;
      background-position: center;
      text-align: center;
      position: relative;
    }

    .philosophy-content {
      max-width: 900px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(15px);
      padding: 60px;
      border-radius: 40px;
      border: 1px solid rgba(27, 94, 32, 0.1);
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.05);
    }

    .philosophy-content h2 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      color: var(--primary);
      margin-bottom: 30px;
    }

    .philosophy-content p {
      font-size: 1.25rem;
      line-height: 1.8;
      color: var(--text-light);
      font-style: italic;
    }

    .highlight-text {
      display: block;
      margin-top: 30px;
      font-size: 1.5rem;
      color: var(--primary-light);
      font-weight: 600;
      font-style: normal;
    }

    /* --- Scroll Reveal --- */
    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .reveal.active {
      opacity: 1;
      transform: translateY(0);
    }

    html {
      scroll-behavior: smooth;
    }

    /* --- Hover Animations --- */
    .product-image img {
      transition: transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
    }

    .product-card:hover .product-image img {
      transform: scale(1.08);
    }

    .footer-contact a:hover {
      text-decoration: underline;
      color: var(--accent) !important;
    }

    /* --- Interactive Aura --- */
    .cursor-aura {
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(212, 175, 55, 0.12) 0%, transparent 70%);
      border-radius: 50%;
      position: fixed;
      pointer-events: none;
      z-index: 10;
      /* Behind actual content but above backgrounds */
      transform: translate(-50%, -50%);
      transition: 0.1s ease-out;
      opacity: 0;
    }

    /* --- Story Section --- */
    .story-section {
      padding: 100px 20px;
      background: var(--white);
    }

    .story-container {
      max-width: 1000px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      gap: 60px;
    }

    .story-image {
      flex: 1;
      position: relative;
      height: 400px;
      background: var(--bg);
      border-radius: var(--radius-lg);
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .story-text {
      flex: 1.5;
    }

    .story-text h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 25px;
    }

    .story-text p {
      font-size: 1.1rem;
      color: var(--text-light);
      margin-bottom: 20px;
      line-height: 1.8;
    }

    /* --- Testimonials --- */
    .testimonials-section {
      padding: 100px 20px;
      background: var(--bg);
    }

    .testimonials-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .testimonial-card {
      background: var(--white);
      padding: 40px;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      border: 1px solid var(--border);
      position: relative;
    }

    .testimonial-card::before {
      content: 'тАЬ';
      position: absolute;
      top: 20px;
      left: 30px;
      font-size: 6rem;
      color: var(--accent);
      opacity: 0.1;
      font-family: serif;
    }

    .testimonial-content {
      position: relative;
      z-index: 1;
      font-style: italic;
      color: var(--text-light);
      margin-bottom: 25px;
      line-height: 1.7;
    }

    .testimonial-author {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .author-info h4 {
      color: var(--primary);
      font-weight: 700;
    }

    .author-info span {
      font-size: 12px;
      color: var(--accent);
    }

    /* --- FAQ Section --- */
    .faq-section {
      max-width: 900px;
      margin: 80px auto;
      padding: 0 20px;
    }

    .faq-item {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 15px;
      margin-bottom: 15px;
      overflow: hidden;
      transition: var(--transition);
    }

    .faq-question {
      padding: 20px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      font-weight: 600;
      color: var(--primary);
      background: var(--white);
    }

    .faq-question:hover {
      background: rgba(27, 94, 32, 0.02);
    }

    .faq-answer {
      padding: 0 25px;
      max-height: 0;
      overflow: hidden;
      transition: all 0.4s ease;
      color: var(--text-light);
      line-height: 1.6;
      font-size: 0.95rem;
    }

    .faq-item.active .faq-answer {
      padding: 10px 25px 25px;
      max-height: 200px;
    }

    .faq-item.active .faq-question svg {
      transform: rotate(180deg);
    }

    /* --- Promo Bar --- */
    .promo-bar {
      background: var(--primary-dark);
      color: var(--accent);
      padding: 10px 20px;
      text-align: center;
      font-size: 14px;
      font-weight: 600;
      position: relative;
      z-index: 2001;
      border-bottom: 1px solid rgba(212, 175, 55, 0.3);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
    }

    .close-promo {
      background: none;
      border: none;
      color: white;
      font-size: 20px;
      cursor: pointer;
      opacity: 0.7;
    }

    .close-promo:hover {
      opacity: 1;
    }

    /* --- Language Toggle --- */
    .lang-toggle {
      display: flex;
      background: rgba(27, 94, 32, 0.1);
      border-radius: 50px;
      padding: 4px;
      margin-left: 20px;
    }

    .lang-btn {
      padding: 6px 15px;
      border-radius: 50px;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      border: none;
      background: transparent;
      color: var(--primary);
      transition: var(--transition);
    }

    .lang-btn.active {
      background: var(--primary);
      color: white;
    }

    /* --- Spirit of the Day --- */
    .spirit-quote {
      margin-top: 40px;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      font-style: italic;
      color: var(--accent);
      font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      .cursor-aura {
        display: none;
      }

      .lang-toggle {
        margin-left: 10px;
      }

      .philosophy-content h2 {
        font-size: 2rem;
      }

      .modal {
        padding: 10px;
      }

      .modal-content {
        padding: 25px 20px;
        margin: 10px;
        border-radius: 20px;
      }

      .payment-options {
        grid-template-columns: 1fr;
      }

      /* Responsive Product Cards */
      .products-grid {
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 15px;
        padding: 0 5px;
      }

      .product-info {
        padding: 15px;
      }

      .product-name {
        font-size: 1.1rem;
      }

      .product-desc {
        font-size: 0.85rem;
      }

      .product-image {
        height: 220px;
      }

      header h1 {
        font-size: 2.8rem;
        letter-spacing: 4px;
      }

      header p {
        font-size: 1rem;
        letter-spacing: 2px;
      }

      .logo-text {
        font-size: 1.3rem;
        letter-spacing: 1px;
      }

      .logo-img {
        height: 35px;
      }

      /* Cart Sidebar Mobile Fix */
      .cart-sidebar {
        width: 100%;
        right: -100%;
      }

      .cart-header {
        padding: 15px 20px;
      }

      .cart-header h2 {
        font-size: 1.25rem;
      }

      .cart-items {
        padding: 15px;
      }

      .cart-item {
        padding: 10px;
        gap: 10px;
      }

      .cart-item-img {
        width: 55px;
        height: 55px;
      }

      .cart-item-name {
        font-size: 13px;
      }

      .cart-footer {
        padding: 20px;
      }

      .cart-total-row {
        font-size: 1rem;
        margin-bottom: 15px;
      }

      .checkout-btn {
        padding: 14px;
        font-size: 15px;
      }

      .cart-item-controls {
        gap: 8px;
        margin-top: 5px;
      }

      .qty-btn {
        width: 24px;
        height: 24px;
        font-size: 12px;
      }

      .remove-btn {
        font-size: 16px;
      }
    }
  </style>

</head>

<body>
  <div class="cursor-aura" id="cursorAura"></div>

  <!-- --- New: Promo Top Bar --- -->
  <div class="promo-bar" id="promoBar">
    <span id="promoText">ЁЯОЙ роЪро┐ро▒рокрпНрокрпБ роЪро▓рпБроХрпИ! тВ╣1000-роХрпНроХрпБ роорпЗро▓рпН роЗро▓ро╡роЪ роЯрпЖро▓ро┐ро╡ро░ро┐! (роХро╡рпБроирпНродрокрпНрокро╛роЯро┐ роЪрпБро▒рпНро▒ро┐ 10роХро┐роорпА - роЯрпЛро░рпН роЯрпЖро▓ро┐ро╡ро░ро┐ |
      рооро▒рпНро▒ роЗроЯроЩрпНроХро│рпБроХрпНроХрпБ роХрпКро░ро┐ропро░рпН)</span>
    <button class="close-promo" onclick="document.getElementById('promoBar').style.display='none'">&times;</button>
  </div>

  <header>
    <div class="header-content">
      <h1 id="heroTitle">JOTHIZ</h1>
      <p id="heroSubtitle">родрпВропрпНроорпИ тАв родро░роорпН тАв роироорпНрокро┐роХрпНроХрпИ</p>
      <div style="margin-top: 35px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
        <a href="#productsGrid" class="btn btn-order"
          style="padding: 15px 35px; border-radius: 50px; background: var(--accent); color: var(--primary-dark); text-decoration: none;">Shop
          Now</a>
        <a href="https://wa.me/918838662641?text=Hi Jothiz, I want to see your product catalog." class="btn btn-cart"
          style="padding: 15px 35px; border-radius: 50px; background: rgba(255,255,255,0.1); color: white; border-color: white; text-decoration: none;">Chat
          on WhatsApp</a>
      </div>
    </div>
  </header>

  <nav>
    <div class="nav-container">
      <a href="#" class="logo-container">
        <img src="jothiz_logo.png" alt="Jothiz Logo" class="logo-img">
        <span class="logo-text">JOTHIZ</span>
      </a>
      <div class="cart-icon-wrapper" onclick="toggleCart()">
        <svg class="cart-svg" viewBox="0 0 24 24">
          <path
            d="M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.11,18 17,18M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.11,18 7,18M7.2,14.63L7.17,14.75C7.17,14.89 7.29,15 7.42,15H19V17H7C5.89,17 5,16.1 5,15C5,14.65 5.09,14.32 5.24,14.04L6.6,11.59L3,3H1V1H4.27L5.21,3H20C20.55,3 21,3.45 21,4C21,4.17 20.96,4.33 20.9,4.48L17.3,11C16.94,11.62 16.28,12 15.54,12H8.1L7.2,13.63L7.2,14.63Z" />
        </svg>
        <div class="cart-badge" id="cartBadge">0</div>
      </div>
      <div class="lang-toggle">
        <button class="lang-btn active" onclick="setLang('ta')">TA</button>
        <button class="lang-btn" onclick="setLang('en')">EN</button>
      </div>
    </div>
  </nav>

  <div class="marquee">
    <span id="marqueeText">тАв роЙропро┐ро░рпНроХро│рпН роЕройрпИродрпНродрпБроорпН роТройрпНро▒рпЗ тАв роХро░рпБрогрпИропрпЗ роЙропро░рпНроирпНрод родро░рпНроороорпН тАв ро╡ро╛ро┤рпБроорпН ро╡ро░рпИ роЖро░рпЛроХрпНроХро┐ропрооро╛роХ ро╡ро╛ро┤ роорпБропро▒рпНроЪро┐ роЪрпЖропрпН
      тАв роЕро░рпБроЯрпН рокрпЖро░рпБроорпН роЬрпЛродро┐ родройро┐рокрпНрокрпЖро░рпБроЩрпНроХро░рпБрогрпИ</span>
  </div>

  <section class="container reveal">
    <div class="section-title reveal">
      <h2 id="productsTitle">роОроЩрпНроХро│рпН рокрпКро░рпБроЯрпНроХро│рпН</h2>
      <p id="productsDesc">родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХрокрпНрокроЯрпНроЯ родро░рооро╛рой рокрпКро░рпБроЯрпНроХро│рпН - роирпЗро░роЯро┐ рооро▒рпНро▒рпБроорпН роХрпВроЯрпИ роЖро░рпНроЯро░рпНроХро│рпН</p>
    </div>

    <div class="products-grid" id="productsGrid">
      <!-- Products injected by JS -->
    </div>
  </section>

  <!-- --- New: Our Story / Brand Journey --- -->
  <section class="story-section reveal">
    <div class="story-container">
      <div class="story-image">
        <img src="jothiz_logo.png" alt="Jothiz Brand Story"
          style="filter: grayscale(1) opacity(0.2); transform: scale(1.5);">
      </div>
      <div class="story-text">
        <h2 id="storyTitle">роОроородрпБ рокропрогроорпН (Our Story)</h2>
        <p id="storyDesc1">роЬрпЛродро┐ро╕рпН роТро░рпБ ро╡ро┐ропро╛рокро╛ро░роорпН роороЯрпНроЯрпБрооро▓рпНро▓, роЕродрпБ роТро░рпБ роироорпНрокро┐роХрпНроХрпИ. роХро▓рокрпНрокроЯрооро▒рпНро▒ роЗропро▒рпНроХрпИ родропро╛ро░ро┐рокрпНрокрпБроХро│рпН роТро╡рпНро╡рпКро░рпБ
          ро╡рпАроЯрпНроЯрпИропрпБроорпН роЪрпЖройрпНро▒роЯрпИроп ро╡рпЗрогрпНроЯрпБроорпН роОройрпНро▒ роирпЛроХрпНроХродрпНродро┐ро▓рпН родрпКроЯроЩрпНроХрокрпНрокроЯрпНроЯродрпБ.</p>
        <p id="storyDesc2">рокро╛ро░роорпНрокро░ро┐роп родропро╛ро░ро┐рокрпНрокрпБ роорпБро▒рпИроХро│рпИропрпБроорпН, роиро╡рпАрой родро░родрпНродрпИропрпБроорпН роЗрогрпИродрпНродрпБ, роороХрпНроХро│ро┐ройрпН роЖро░рпЛроХрпНроХро┐ропродрпНродрпИ роХро╛рокрпНрокродрпЗ роОроородрпБ
          родро▓рпИропро╛роп роХроЯроорпИ.</p>
        <div class="founder-signature" style="margin-top: 30px; text-align: left;">
          <p style="font-family: 'Playfair Display', serif; font-size: 24px; color: var(--primary); margin-bottom: 0;">
            Jaganathan S</p>
          <p style="font-size: 13px; color: var(--accent); letter-spacing: 2px;">FOUNDER, JOTHIZ</p>
        </div>
      </div>
    </div>
  </section>

  <!-- --- New: Why Choose JOTHIZ (Brand Pillars) --- -->
  <section class="pillars-section reveal"
    style="padding: 60px 20px; background: #fdfdfb; border-bottom: 1px solid var(--border);">
    <div
      style="max-width: 1100px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; text-align: center;">
      <div class="pillar-item">
        <div style="font-size: 30px; margin-bottom: 10px;">ЁЯЫбя╕П</div>
        <h4 style="color: var(--primary); margin-bottom: 5px; font-size: 16px;" id="pil1Title">роЙродрпНродро░ро╡ро╛родрооро╛рой родрпВропрпНроорпИ</h4>
        <p style="font-size: 13px; color: var(--text-light);" id="pil1Desc">100% роХро▓рокрпНрокроЯрооро▒рпНро▒ роЗропро▒рпНроХрпИ родропро╛ро░ро┐рокрпНрокрпБроХро│рпН</p>
      </div>
      <div class="pillar-item">
        <div style="font-size: 30px; margin-bottom: 10px;">ЁЯз╡</div>
        <h4 style="color: var(--primary); margin-bottom: 5px; font-size: 16px;" id="pil5Title">роХрпИродрпНродро▒ро┐ роирпЖроЪро╡ро╛ро│ро░рпН</h4>
        <p style="font-size: 13px; color: var(--text-light);" id="pil5Desc">рокро╛ро░роорпНрокро░ро┐роп роирпЖроЪро╡ро╛ро│ро░рпНроХро│ро┐ройрпН роХрпИро╡рогрпНрогроорпН</p>
      </div>
      <div class="pillar-item">
        <div style="font-size: 30px; margin-bottom: 10px;">ЁЯЪЬ</div>
        <h4 style="color: var(--primary); margin-bottom: 5px; font-size: 16px;" id="pil2Title">ро╡ро┐ро╡роЪро╛ропро┐роХро│рпН роЖродро░ро╡рпБ</h4>
        <p style="font-size: 13px; color: var(--text-light);" id="pil2Desc">роХро┐ро░ро╛рооро┐роп роХро▓рпИроЮро░рпНроХро│ро┐ройрпН роирпЗро░роЯро┐ ро╡ро╛ро┤рпНро╡ро╛родро╛ро░роорпН</p>
      </div>
      <div class="pillar-item">
        <div style="font-size: 30px; margin-bottom: 10px;">ЁЯУж</div>
        <h4 style="color: var(--primary); margin-bottom: 5px; font-size: 16px;" id="pil3Title">рокрпБродро┐роп рокрпЗроХрпНроХро┐роЩрпН</h4>
        <p style="font-size: 13px; color: var(--text-light);" id="pil3Desc">роЖро░рпНроЯро░рпН роЪрпЖропрпНрод рокро┐ройрпН рокрпБродро┐ропродро╛роХ рокрпЗроХрпНроХро┐роЩрпН</p>
      </div>
      <div class="pillar-item">
        <div style="font-size: 30px; margin-bottom: 10px;">ЁЯЪЪ</div>
        <h4 style="color: var(--primary); margin-bottom: 5px; font-size: 16px;" id="pil4Title">ро╡рпЗроХрооро╛рой роЯрпЖро▓ро┐ро╡ро░ро┐</h4>
        <p style="font-size: 13px; color: var(--text-light);" id="pil4Desc">рокро╛родрпБроХро╛рокрпНрокро╛рой роорпБро▒рпИропро┐ро▓рпН роЯрпЛро░рпН роЯрпЖро▓ро┐ро╡ро░ро┐</p>
      </div>
      <div class="pillar-item">
        <div style="font-size: 30px; margin-bottom: 10px;">ЁЯк╡</div>
        <h4 style="color: var(--primary); margin-bottom: 5px; font-size: 16px;" id="pil6Title">рокро╛ро░роорпНрокро░ро┐роп родропро╛ро░ро┐рокрпНрокрпБ</h4>
        <p style="font-size: 13px; color: var(--text-light);" id="pil6Desc">рокро╛ро░роорпНрокро░ро┐роп роорпБро▒рпИроХро│рпН</p>
      </div>
      <div class="pillar-item">
        <div style="font-size: 30px; margin-bottom: 10px;">ЁЯЪл</div>
        <h4 style="color: var(--primary); margin-bottom: 5px; font-size: 16px;" id="pil7Title">роЗро░роЪро╛ропройроорпН роЕро▒рпНро▒родрпБ</h4>
        <p style="font-size: 13px; color: var(--text-light);" id="pil7Desc">роиро┐ро▒роорпВроЯрпНроЯро┐роХро│рпН рооро▒рпНро▒рпБроорпН роХрпЖрооро┐роХрпНроХро▓рпН роЗро▓рпНро▓рпИ</p>
      </div>
      <div class="pillar-item">
        <div style="font-size: 30px; margin-bottom: 10px;">ЁЯТ░</div>
        <h4 style="color: var(--primary); margin-bottom: 5px; font-size: 16px;" id="pil8Title">роиро┐ропро╛ропрооро╛рой ро╡ро┐ро▓рпИ</h4>
        <p style="font-size: 13px; color: var(--text-light);" id="pil8Desc">роирпЗро░роЯро┐ родропро╛ро░ро┐рокрпНрокрпБ - роХрпБро▒рпИроирпНрод ро╡ро┐ро▓рпИ</p>
      </div>
    </div>
  </section>

  <section class="philosophy-section reveal">
    <div class="philosophy-content">
      <h2 id="phiTitle">роЖройрпНроо роТро│ро┐ропро┐ройрпН роЪроЩрпНроХроороорпН</h2>
      <p id="phiDesc">"роЕро░рпБроЯрпНрокрпЖро░рпБроЮрпНроЬрпЛродро┐ родройро┐рокрпНрокрпЖро░рпБроЩрпНроХро░рпБрогрпИ роОройрпНро▒ роЙрогрпНроорпИропрпИ роЙро▓роХро┐ро▒рпНроХрпБ роЙрогро░рпНродрпНродро┐роп ро╡ро│рпНро│ро▓ро╛ро░ро┐ройрпН роХрпКро│рпНроХрпИропрпЗ роОроородрпБ
        роЕроЯро┐родрпНродро│роорпН. роЪрпБродрпНродрооро╛рой, роХро▓рокрпНрокроЯрооро▒рпНро▒ рокрпКро░рпБроЯрпНроХро│рпН роЙроЩрпНроХро│рпН роЗро▓рпНро▓роорпН роЪрпЗро░рпНро╡родрпЗ роОроородрпБ роЗро▓роЯрпНроЪро┐ропроорпН."</p>
      <span class="highlight-text" id="phiHigh">родрпВропрпНроорпИ тАв роЙропро┐ро░рпНроирпЗропроорпН тАв роироорпНрокро┐роХрпНроХрпИ</span>
    </div>
  </section>

  <!-- --- New: Customer Testimonials --- -->
  <section class="testimonials-section reveal">
    <div class="section-title">
      <h2 id="testTitle">ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН роХро░рпБродрпНродрпБроХрпНроХро│рпН</h2>
      <p id="testDesc">роОроЩрпНроХро│рпН роЬрпЛродро┐ро╕рпН роХрпБроЯрпБроорпНрок роЙро▒рпБрокрпНрокро┐ройро░рпНроХро│ро┐ройрпН роЕройрпБрокро╡роЩрпНроХро│рпН</p>
    </div>
    <div class="testimonials-grid">
      <div class="testimonial-card reveal">
        <p class="testimonial-content">"роиро╛роЯрпНроЯрпБроЪрпН роЪро░рпНроХрпНроХро░рпИ рооро┐роХро╡рпБроорпН родро░роорпН ро╡ро╛ропрпНроирпНродродро╛роХ роЙро│рпНро│родрпБ. роХро╛рокро┐ропро┐ройрпН роЪрпБро╡рпИропрпИ роЗродрпБ роЗройрпНройрпБроорпН
          роХрпВроЯрпНроЯрпБроХро┐ро▒родрпБ. роЪрпБродрпНродрооро╛рой родропро╛ро░ро┐рокрпНрокрпБ!"</p>
        <div class="testimonial-author">
          <div class="author-info">
            <h4>ро░ро╛роХро╡рпЗроирпНродройрпН</h4>
            <span>роЪрпЛро▓ро╛ро░рпН</span>
          </div>
        </div>
      </div>
      <div class="testimonial-card reveal" style="transition-delay: 0.1s;">
        <p class="testimonial-content">"роЬроорпБроХрпНроХро╛ро│роорпН рооро▒рпНро▒рпБроорпН рокро╛ропрпН ро╡ро╛роЩрпНроХро┐ройрпЗройрпН. роХрпИродрпНродро▒ро┐ родропро╛ро░ро┐рокрпНрокрпБ рооро┐роХро╡рпБроорпН роорпЖройрпНроорпИропро╛роХро╡рпБроорпН
          роЙро▒рпБродро┐ропро╛роХро╡рпБроорпН роЗро░рпБроХрпНроХро┐ро▒родрпБ."</p>
        <div class="testimonial-author">
          <div class="author-info">
            <h4>роорпБродрпНродрпБроХрпНроХрпБрооро╛ро░рпН</h4>
            <span>роИро░рпЛроЯрпБ</span>
          </div>
        </div>
      </div>
      <div class="testimonial-card reveal" style="transition-delay: 0.2s;">
        <p class="testimonial-content">"ро╡рпЗроХрооро╛рой роЯрпЖро▓ро┐ро╡ро░ро┐ рооро▒рпНро▒рпБроорпН родро░рооро╛рой рокрпЗроХрпНроХро┐роЩрпН. рокрпБроХрпИрокрпНрокроЯроЩрпНроХро│рпИ ро╡ро╛роЯрпНро╕рпНроЕрокрпНрокро┐ро▓рпН роХро╛роЯрпНроЯро┐роп
          рокро┐ройрпНройро░рпЗ роЕройрпБрокрпНрокро┐ройро╛ро░рпНроХро│рпН. рокро╛ро░ро╛роЯрпНроЯрпБроХрпНроХро│рпН!"</p>
        <div class="testimonial-author">
          <div class="author-info">
            <h4>ро╣ро░ро┐</h4>
            <span>роХрпЛро╡рпИ</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cart Sidebar -->
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h2 id="cartTitle">роЙроЩрпНроХро│рпН роХрпВроЯрпИ (Cart)</h2>
      <button class="close-cart" onclick="toggleCart()">&times;</button>
    </div>
    <div class="cart-items" id="cartItems">
      <!-- Items injected by JS -->
    </div>
    <div class="cart-footer">
      <div class="cart-total-row">
        <span id="cartTotalLabel">роорпКродрпНродроорпН:</span>
        <span id="cartTotal">тВ╣0</span>
      </div>
      <button class="checkout-btn" id="checkoutBtn" onclick="openCheckoutModal()">
        рокрпЖро░ро┐роп роЖро░рпНроЯро░рпН роЪрпЖропрпНроХ (Checkout)
      </button>
    </div>
  </div>

  <!-- Modal for Order Details (Both Cart & Quick Order) -->
  <div class="modal" id="orderModal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeOrderModal()">&times;</button>
      <h2 id="modalTitle">роЖро░рпНроЯро░рпН ро╡ро┐ро╡ро░роЩрпНроХро│рпН</h2>

      <form id="orderForm">
        <input type="hidden" id="flowType"> <!-- 'cart' or 'quick' -->
        <input type="hidden" id="quickProductId">

        <!-- Dynamic Variety Image Preview -->
        <div id="quickVarietyPreview"
          style="text-align:center; margin-bottom: 20px; padding: 10px; background: #fff; border-radius: 15px; border: 1px solid var(--border);">
          <img id="quickVarietyImg" src=""
            style="max-width: 150px; height: 150px; object-fit: cover; border-radius: 10px;">
          <div id="quickImgDisclaimer" style="font-size: 9px; color: var(--text-light); opacity: 0.7; margin-top: 4px;">
          </div>
          <div id="quickLiveImgNote" style="font-size: 11px; color: var(--primary); margin-top: 8px; font-weight: 500;">
          </div>
        </div>

        <!-- Variety Selector (Only for Quick Order) -->
        <div class="form-group" id="varietyGroup" style="display:none;">
          <label class="form-label" id="labelVariety">ро╡роХрпИ (Selection)</label>
          <select id="quickPriceSelector" onchange="updateQuickOrderVariety()"></select>
        </div>

        <div class="form-group">
          <label class="form-label" id="labelName">рокрпЖропро░рпН (Customer Name)</label>
          <input type="text" id="custName" placeholder="роЙроЩрпНроХро│рпН рокрпЖропро░рпН" required>
        </div>

        <div class="form-group">
          <label class="form-label" id="labelPhone">родрпКроЯро░рпНрокрпБ роОрогрпН (Contact Number)</label>
          <input type="tel" id="custPhone" placeholder="роорпКрокрпИро▓рпН роОрогрпН" required>
        </div>

        <div class="form-group">
          <label class="form-label" id="labelAddress">роорпБроХро╡ро░ро┐ (Delivery Address)</label>
          <textarea id="custAddress" rows="2" placeholder="роорпБроХро╡ро░ро┐" required></textarea>
        </div>

        <div class="form-group">
          <label class="form-label" id="labelPayment">рокрогроорпН (Payment Mode)</label>
          <div class="payment-options">
            <div class="payment-opt selected" onclick="selectPayment(this, 'GPay / PhonePe')">GPay / PhonePe</div>
            <div class="payment-opt" onclick="selectPayment(this, 'Cash on Delivery')">Cash on Delivery</div>
          </div>
        </div>

        <div id="modalSummaryBox"
          style="margin: 20px 0; padding:15px; background: #f1faf4; border-radius: 12px; text-align: center;">
          <div style="font-size: 13px; color: var(--text-light);">роЪрпЖро▓рпБродрпНрод ро╡рпЗрогрпНроЯро┐роп родрпКроХрпИ:</div>
          <div id="modalTotalDisplay" style="font-size: 24px; font-weight: 700; color: var(--primary);">тВ╣0</div>
        </div>

        <button type="button" class="confirm-btn" id="confirmBtn" onclick="handlePaymentAndOrder()">
          рокрогроорпН роЪрпЖро▓рпБродрпНродро┐ роЖро░рпНроЯро░рпН роЪрпЖропрпНроХ
        </button>
      </form>
    </div>
  </div>

  <!-- Variety Selection Modal for Cart -->
  <div class="modal" id="varietyModal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeVarietyModal()">&times;</button>
      <h2 id="varietyTitle">ро╡роХрпИ родрпЗро░рпНро╡рпБ роЪрпЖропрпНропро╡рпБроорпН</h2>
      <p id="varietyProductName"
        style="text-align:center; color: var(--text-light); margin-bottom: 15px; font-weight: 500;"></p>

      <!-- Dynamic Variety Image Preview -->
      <div id="cartVarietyPreview"
        style="text-align:center; margin-bottom: 20px; padding: 10px; background: #f9f9f9; border-radius: 15px; border: 1px dashed var(--border);">
        <img id="cartVarietyImg" src=""
          style="max-width: 150px; height: 150px; object-fit: cover; border-radius: 10px;">
        <div id="cartImgDisclaimer" style="font-size: 9px; color: var(--text-light); opacity: 0.7; margin-top: 4px;">
        </div>
        <div id="cartLiveImgNote" style="font-size: 11px; color: var(--primary); margin-top: 8px; font-weight: 500;">
        </div>
      </div>

      <div class="form-group">
        <select id="varietySelectCart" style="font-size: 16px; padding: 15px;"
          onchange="updateCartVarietyImage()"></select>
      </div>

      <button class="btn btn-order" id="addToCartBtn" style="width:100%; padding: 16px;" onclick="confirmAddToCart()">
        роХрпВроЯрпИропро┐ро▓рпН роЪрпЗро░рпНроХрпНроХ (Add to Cart)
      </button>
    </div>
  </div>

  <!-- --- New: Policy Modals --- -->
  <div class="modal" id="privacyModal">
    <div class="modal-content" style="max-width: 600px; text-align: left;">
      <button class="close-modal" onclick="closeModal('privacyModal')">&times;</button>
      <h2 style="color: var(--primary); margin-bottom: 20px;">Privacy Policy</h2>
      <div style="font-size: 14px; line-height: 1.6; color: var(--text-light); max-height: 400px; overflow-y: auto;">
        <p>At JOTHIZ, we respect your privacy. We only collect essential information like your name, phone number, and
          address to process your orders.</p>
        <p>Your data is never sold to third parties. We use WhatsApp for direct communication to ensure your privacy is
          maintained throughout the ordering process.</p>
      </div>
    </div>
  </div>

  <div class="modal" id="termsModal">
    <div class="modal-content" style="max-width: 600px; text-align: left;">
      <button class="close-modal" onclick="closeModal('termsModal')">&times;</button>
      <h2 style="color: var(--primary); margin-bottom: 20px;">Terms & Conditions</h2>
      <div style="font-size: 14px; line-height: 1.6; color: var(--text-light); max-height: 400px; overflow-y: auto;">
        <p>1. Orders are subject to availability of authentic stock.</p>
        <p>2. Shipping times may vary based on your location and the specific artisan product origin.</p>
        <p>3. Cancellations are only accepted before the product has been dispatched.</p>
      </div>
    </div>
  </div>

  <div class="modal" id="shippingModal">
    <div class="modal-content" style="max-width: 600px; text-align: left;">
      <button class="close-modal" onclick="closeModal('shippingModal')">&times;</button>
      <h2 style="color: var(--primary); margin-bottom: 20px;">Shipping Policy</h2>
      <div style="font-size: 14px; line-height: 1.6; color: var(--text-light); max-height: 400px; overflow-y: auto;">
        <p>тАв Local Door Delivery: Within 10km of Kavundapadi for orders over тВ╣1000.</p>
        <p>тАв Courier Delivery: For orders outside the 10km radius, products will be sent via reputed courier services.
        </p>
        <p>тАв Tracking: We provide WhatsApp updates for all dispatched orders.</p>
      </div>
    </div>
  </div>

  <div class="modal" id="promoModal">
    <div class="modal-content" style="max-width: 450px; text-align: center; border: 2px solid var(--accent);">
      <button class="close-modal" onclick="closePromoModal()">&times;</button>
      <div style="font-size: 50px; margin-bottom: 20px;">ЁЯОБ</div>
      <h2 id="promoModalTitle" style="color: var(--primary-dark); font-family: 'Playfair Display', serif;">
        роХро╛родрпНродро┐ро░рпБроЩрпНроХро│рпН! (Special Offer)</h2>
      <p id="promoModalDesc" style="color: var(--text-light); margin-bottom: 25px;">роЗройрпНро▒рпЗ роЙроЩрпНроХро│рпН роорпБродро▓рпН WhatsApp роЖро░рпНроЯро░рпИроЪрпН
        роЪрпЖропрпНродрпБ 10% родро│рпНро│рпБрокроЯро┐ рокрпЖро▒рпБроЩрпНроХро│рпН!</p>
      <button class="confirm-btn" style="background: var(--primary-dark); color: var(--accent);"
        onclick="closePromoModal(); openQuickOrder(1);">
        роЪро▓рпБроХрпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБ (Claim Offer)
      </button>
      <p style="font-size: 11px; margin-top: 15px; color: var(--text-light); opacity: 0.6;">*роиро┐рокроирпНродройрпИроХро│рпН рокрпКро░рпБроирпНродрпБроорпН |
        роорпКродрпНрод роЖро░рпНроЯро░рпНроХро│рпБроХрпНроХрпБ роороЯрпНроЯрпБроорпН</p>
    </div>
  </div>

  <div class="overlay" id="overlay" onclick="closeAll()"></div>
  <div class="toast" id="toast">Item Added to Cart!</div>

  <section class="faq-section reveal">
    <div class="section-title">
      <h2 id="faqTitle">роЕроЯро┐роХрпНроХроЯро┐ роХрпЗроЯрпНроХрокрпНрокроЯрпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпН</h2>
      <p>Questions & Answers</p>
    </div>
    <div id="faqContainer">
      <!-- FAQ Items injected by JS -->
    </div>
  </section>

  <!-- Enquiry Section -->
  <section class="enquiry-section">
    <div class="enquiry-container">

      <form class="enquiry-form" id="enquiryForm" action="https://formspree.io/f/mykwjrjq" method="POST" novalidate>
        <h2 id="enquiryTitle">ро╡ро┐роЪро╛ро░рогрпИ рокроЯро┐ро╡роорпН (Enquiry Form)</h2>
        <p id="enquiryDesc" style="text-align: center; color: var(--text-light); margin-bottom: 30px; font-size: 14px;">
          роОроЩрпНроХро│рпН роорпЗро▓родро┐роХ ро╡ро┐ро╡ро░роЩрпНроХро│рпБроХрпНроХрпБ роЕро▓рпНро▓родрпБ роорпКродрпНрод роЖро░рпНроЯро░рпНроХро│рпБроХрпНроХрпБ роХрпАро┤рпЗ роЙро│рпНро│ рокроЯро┐ро╡родрпНродрпИ рокрпВро░рпНродрпНродро┐ роЪрпЖропрпНропро╡рпБроорпН.<br>
          <a href="https://www.google.com/maps/search/?api=1&query=23/1,+Bommanpatti+Road,+Kavundapadi,+Erode"
            target="_blank"
            style="color: var(--primary); font-weight: 600; margin-top: 10px; display: block; text-decoration: none;">ЁЯУН
            23/1, Bommanpatti Road, Kavundapadi, Erode.</a>
        </p>

        <!-- Honeypot -->
        <input type="text" name="company" tabindex="-1" autocomplete="off"
          style="position:absolute;left:-9999px;opacity:0;height:0;width:0;">

        <div class="enquiry-grid">
          <div>
            <input type="text" id="name" name="name" placeholder="роЙроЩрпНроХро│рпН рокрпЖропро░рпН (Name)" required>
            <div class="error" id="nameError">тЭМ роЪро░ро┐ропро╛рой рокрпЖропро░рпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН</div>
          </div>
          <div>
            <input type="tel" id="phone" name="phone" placeholder="роорпКрокрпИро▓рпН роОрогрпН (Phone)" required>
            <div class="error" id="phoneError">тЭМ роЪро░ро┐ропро╛рой роорпКрокрпИро▓рпН роОрогрпН</div>
          </div>
          <div class="enquiry-full">
            <input type="email" id="email" name="email" placeholder="рооро┐ройрпНройроЮрпНроЪро▓рпН (Email - Optional)">
            <div class="error" id="emailError">тЭМ роЪро░ро┐ропро╛рой рооро┐ройрпНройроЮрпНроЪро▓рпН</div>
          </div>
          <div class="enquiry-full">
            <textarea id="message" name="message" rows="4" placeholder="роЙроЩрпНроХро│рпН роЪрпЖропрпНродро┐ (Message)" required></textarea>
            <div class="error" id="messageError">тЭМ роХрпБро▒рпИроирпНродродрпБ 10 роОро┤рпБродрпНродрпБроХро│рпН</div>
          </div>
        </div>

        <input type="hidden" name="g-recaptcha-response" id="recaptchaToken">
        <button type="submit" id="submitBtn" class="enquiry-btn">роЕройрпБрокрпНрокрпБ (Send Inquiry via Email)</button>

        <div id="successMsg"
          style="display:none;margin-top:14px;padding:12px;background:#e8f5e9;color:#1b5e20;border-radius:12px;text-align:center; font-weight: 600;">
          тЬЕ роЙроЩрпНроХро│рпН ро╡ро┐роЪро╛ро░рогрпИ роЕройрпБрокрпНрокрокрпНрокроЯрпНроЯродрпБ! ро╡ро┐ро░рпИро╡ро┐ро▓рпН родрпКроЯро░рпНрокрпБ роХрпКро│рпНроХро┐ро▒рпЛроорпН.
        </div>
      </form>
    </div>
  </section>

  <!-- --- New: Trust Bar / Payment Logos --- -->
  <section style="background: white; padding: 40px 20px; border-top: 1px solid var(--border);">
    <div
      style="max-width: 1000px; margin: 0 auto; display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap; gap: 30px; opacity: 0.6; filter: grayscale(1);">
      <div style="display: flex; align-items: center; gap: 10px; font-weight: 600; color: var(--primary);">
        <svg style="width:24px;" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,2L4.5,20.29L5.21,21L12,18L18.79,21L19.5,20.29L12,2Z" />
        </svg>
        GI TAGGED
      </div>
      <div style="display: flex; align-items: center; gap: 10px; font-weight: 600; color: var(--primary);">
        <svg style="width:24px;" viewBox="0 0 24 24">
          <path fill="currentColor"
            d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,3L19,6V11C19,15.28 16.3,19.28 12,20.4C7.7,19.28 5,15.28 5,11V6L12,3M12,7L9,10H11V15H13V10H15L12,7Z" />
        </svg>
        SECURE PAY
      </div>
      <div style="display: flex; align-items: center; gap: 10px; font-weight: 600; color: var(--primary);">
        <svg style="width:24px;" viewBox="0 0 24 24">
          <path fill="currentColor"
            d="M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M16.59,7.58L10,14.17L7.41,11.59L6,13L10,17L18,9L16.59,7.58Z" />
        </svg>
        100% ORGANIC
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-container"
      style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 40px; text-align: left; padding-bottom: 40px; padding-left: 20px; padding-right: 20px;">

      <!-- Brand Info -->
      <div class="footer-brand">
        <h3
          style="font-family: 'Playfair Display', serif; color: var(--accent); font-size: 1.8rem; margin-bottom: 15px;">
          JOTHIZ</h3>
        <p style="opacity: 0.8; font-size: 14px; line-height: 1.6;">родрпВропрпНроорпИ тАв родро░роорпН тАв роироорпНрокро┐роХрпНроХрпИ<br>Purity тАв Quality тАв
          Trust</p>
      </div>

      <!-- Contact Info -->
      <div class="footer-contact">
        <h4 style="color: var(--white); margin-bottom: 20px; font-size: 1.1rem;">Contact Us</h4>
        <div style="font-size: 14px; line-height: 2; opacity: 0.9;">
          <div style="display: flex; align-items: flex-start; gap: 10px; margin-bottom: 15px;">
            <span style="color: var(--accent);">ЁЯУН</span>
            <span>23/1, Bommanpatti Road, Kavundapadi,<br>Erode District, Tamil Nadu.</span>
          </div>
          <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
            <span style="color: var(--accent);">ЁЯУЮ</span>
            <a href="tel:8903326883" style="color: inherit; text-decoration: none;">+91 89033 26883</a>
          </div>
          <div style="display: flex; align-items: center; gap: 10px;">
            <span style="color: var(--accent);">ЁЯТм</span>
            <a href="https://wa.me/918838662641" style="color: inherit; text-decoration: none;">+91 88386 62641
              (WhatsApp)</a>
          </div>
        </div>
      </div>

      <!-- Legal Info -->
      <div class="footer-links-col">
        <h4 style="color: var(--white); margin-bottom: 20px; font-size: 1.1rem;">Policies</h4>
        <div style="display: flex; flex-direction: column; gap: 10px; font-size: 14px;">
          <a href="javascript:void(0)" onclick="openModal('privacyModal')"
            style="color: var(--accent-light); text-decoration: none;">Privacy Policy</a>
          <a href="javascript:void(0)" onclick="openModal('termsModal')"
            style="color: var(--accent-light); text-decoration: none;">Terms & Conditions</a>
          <a href="javascript:void(0)" onclick="openModal('shippingModal')"
            style="color: var(--accent-light); text-decoration: none;">Shipping Policy</a>
        </div>
      </div>
    </div>

    <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 30px; text-align: center;">
      <div id="footerCopy">┬й 2026 JOTHIZ. роЕройрпИродрпНродрпБ роЙро░ро┐роорпИроХро│рпБроорпН рокро╛родрпБроХро╛роХрпНроХрокрпНрокроЯрпНроЯро╡рпИ.</div>
      <div class="spirit-quote" id="spiritQuote" style="margin-top: 20px; font-size: 13px; opacity: 0.7;"></div>
    </div>
  </footer>

  <div class="floats">
    <div class="back-to-top" id="backToTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
      style="margin-bottom: 10px;">
      <svg viewBox="0 0 24 24" style="width: 20px; height: 20px; fill: white;">
        <path d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" />
      </svg>
    </div>
    <a href="tel:8903326883" class="float-btn float-call"><svg viewBox="0 0 24 24">
        <path
          d="M6.6 10.8a15 15 0 006.6 6.6l2.2-2.2c.3-.3.8-.4 1.2-.3 1 .3 2 .5 3 .5.6 0 1 .4 1 1V20c0 .6-.4 1-1 1C10.3 21 3 13.7 3 4c0-.6.4-1 1-1h3.6c.6 0 1 .4 1 1 0 1 .2 2 .5 3 .1.4 0 .9-.3 1.2l-2.2 2.2z" />
      </svg></a>
    <a href="https://wa.me/918838662641" class="float-btn float-whatsapp" target="_blank" style="position: relative;">
      <div class="online-indicator"></div>
      <svg viewBox="0 0 32 32">
        <path
          d="M16 .6C7.5.6.6 7.5.6 16c0 2.8.7 5.5 2.1 7.9L.6 31.4l7.7-2c2.3 1.3 4.9 2 7.6 2 8.5 0 15.4-6.9 15.4-15.4S24.5.6 16 .6z" />
      </svg>
    </a>
  </div>

  <script>
    const products = [
      {
        id: 1,
        name: "роХро╡рпБроирпНродрокрпНрокро╛роЯро┐ роиро╛роЯрпНроЯрпБроЪрпН роЪро░рпНроХрпНроХро░рпИ (GI Tagged)",
        en_name: "Kavundapadi Country Sugar (GI Tagged)",
        category: "Authentic Origin",
        image: "country_sugar_1769858896315.png",
        badge: "GI Certified",
        points: ["роХро╡рпБроирпНродрокрпНрокро╛роЯро┐ рокрпБро╡ро┐роЪро╛ро░рпН роХрпБро▒ро┐ропрпАроЯрпБ рокрпЖро▒рпНро▒родрпБ", "100% роЗропро▒рпНроХрпИ роорпБро▒рпИропро┐ро▓рпН родропро╛ро░ро┐рокрпНрокрпБ", "ро░роЪро╛ропройроорпН роХро▓роХрпНроХро╛род родрпВропрпНроорпИ"],
        en_points: ["Kavundapadi GI Certified Origin", "100% Naturally Produced", "Zero Chemical Purity"],
        priceOptions: [
          { label: "1 роХро┐ро▓рпЛ (Standard)", en_label: "1 kg (Standard)", price: 55, vImage: "country_sugar_1769858896315.png" },
          { label: "5 роХро┐ро▓рпЛ (Bundle)", en_label: "5 kg (Bundle)", price: 260, vImage: "country_sugar_1769858896315.png" },
          { label: "10 роХро┐ро▓рпЛ (Family Pack)", en_label: "10 kg (Family Pack)", price: 510, vImage: "country_sugar_1769858896315.png" }
        ],
        displayPrice: "тВ╣50 тАУ тВ╣60 / kg",
        topSeller: true
      },
      {
        id: 2,
        name: "роЙропро░рпНродро░ роЕро░ро┐роЪро┐ (Premium Rice)",
        en_name: "Premium Rice",
        category: "Premium Quality",
        image: "premium_rice_1769858915796.png",
        badge: "Bestseller",
        points: ["роиро▒рпБроорогроорпН & роорпЖройрпНроорпИ", "роЪроорпИроХрпНроХрпБроорпН рокрпЛродрпБ ро╡ро┐ро░ро┐ропрпБроорпН", "роХро┐ро│рпАройрпН & ро╣рпИроЬро┐ройро┐роХрпН"],
        en_points: ["Aromatic & Soft Texture", "Expands while cooking", "Clean & Hygienic"],
        priceOptions: [
          { label: "25 роХро┐ро▓рпЛ (Ponni Deluxe)", en_label: "25 kg (Ponni Deluxe)", price: 1350, vImage: "premium_rice_1769858915796.png" },
          { label: "25 роХро┐ро▓рпЛ (RNR Steamed)", en_label: "25 kg (RNR Steamed)", price: 1450, vImage: "premium_rice_1769858915796.png" },
          { label: "25 роХро┐ро▓рпЛ (Sona Masoori)", en_label: "25 kg (Sona Masoori)", price: 1600, vImage: "premium_rice_1769858915796.png" }
        ],
        displayPrice: "тВ╣1300 тАУ тВ╣1600 (25kg)"
      },
      {
        id: 3,
        name: "роХрпИродрпНродро▒ро┐ рокро╛ропрпН (Handloom Mat)",
        en_name: "Handloom Mat",
        category: "Eco Friendly",
        image: "handloom_mat_1769858936531.png",
        badge: "Handmade",
        points: ["100% родрпВроп роХро╛роЯройрпН", "роорпЖройрпНроорпИропро╛рой роЙрогро░рпНро╡рпБ & роХро╛ро▒рпНро▒рпЛроЯрпНроЯроорпН", "рокрпВроЬрпИ & ропрпЛроХро╛ рокропройрпНрокро╛роЯрпБ"],
        en_points: ["100% Pure Cotton", "Soft feel & Ventilation", "Prayer & Yoga use"],
        priceOptions: [
          { label: "Small (Yoga Size)", en_label: "Small (Yoga Size)", price: 25, vImage: "handloom_mat_1769858936531.png" },
          { label: "Medium (4x6 ft)", en_label: "Medium (4x6 ft)", price: 45, vImage: "handloom_mat_1769858936531.png" },
          { label: "Large (Single Bed)", en_label: "Large (Single Bed)", price: 65, vImage: "handloom_mat_1769858936531.png" }
        ],
        displayPrice: "тВ╣15 тАУ тВ╣65"
      },
      {
        id: 4,
        name: "рокро╛родрпНродро┐роЩрпН роЯро╡ро▓рпН (Bathing Towel)",
        en_name: "Bathing Towel",
        category: "Soft & Absorbent",
        image: "bathing_towel_1769858957232.png",
        badge: "Normal",
        points: ["роорпЖройрпНроорпИропро╛рой роХро╛роЯройрпН родрпБрогро┐", "роирпАро░рпИ роиройрпНро▒ро╛роХ роЙро▒ро┐роЮрпНроЪрпБроорпН", "родро┐ройроЪро░ро┐ рокропройрпНрокро╛роЯрпНроЯро┐ро▒рпНроХрпБ роПро▒рпНро▒родрпБ"],
        en_points: ["Soft Cotton Fabric", "High water absorption", "Ideal for daily use"],
        priceOptions: [
          { label: "Standard Size", en_label: "Standard Size", price: 40, vImage: "bathing_towel_1769858957232.png" }
        ],
        displayPrice: "тВ╣40"
      },
      {
        id: 5,
        name: "рокро╡ро╛ройро┐ роЬроорпБроХрпНроХро╛ро│роорпН (GI Tagged)",
        en_name: "Bhavani Jamukalam (GI Tagged)",
        category: "Traditional Craft",
        image: "bhavani_jamukalam_1769858979784.png",
        badge: "GI Certified",
        points: ["рокро╡ро╛ройро┐ рокрпБро╡ро┐роЪро╛ро░рпН роХрпБро▒ро┐ропрпАроЯрпБ рокрпЖро▒рпНро▒родрпБ", "рокро╛ро░роорпНрокро░ро┐роп роХрпИродрпНродро▒ро┐ родропро╛ро░ро┐рокрпНрокрпБ", "роирпАроЯро┐родрпНрод & роЙро▒рпБродро┐ропро╛рой родро░роорпН"],
        en_points: ["Bhavani GI Certified Origin", "Traditional Handloom Craft", "Durable & Sturdy Quality"],
        priceOptions: [
          { label: "3x6 ft (Blue Design)", en_label: "3x6 ft (Blue Design)", price: 450, vImage: "bhavani_jamukalam_1769858979784.png" },
          { label: "4x7 ft (Red Ethnic)", en_label: "4x7 ft (Red Ethnic)", price: 650, vImage: "bhavani_jamukalam_1769858979784.png" },
          { label: "6x9 ft (Grand Temple)", en_label: "6x9 ft (Grand Temple)", price: 850, vImage: "bhavani_jamukalam_1769858979784.png" }
        ],
        displayPrice: "тВ╣450 тАУ тВ╣850"
      },
      {
        id: 6,
        name: "рокрпЗройрпНроЪро┐ роЪро╛ро░рпАро╕рпН (Fancy Sarees)",
        en_name: "Fancy Sarees",
        category: "New Arrival",
        image: "fancy_saree_1769859002432.png",
        badge: "Trendy",
        points: ["роиро╡рпАрой ро╡роЯро┐ро╡роорпИрокрпНрокрпБ", "родро┐ро░рпБроорогроорпН & ро╡ро┐ро┤ро╛ рокропройрпНрокро╛роЯрпБ", "роЕро┤роХро╛рой роиро┐ро▒роЩрпНроХро│рпН"],
        en_points: ["Modern Design", "Wedding & Feast use", "Beautiful Colors"],
        priceOptions: [
          { label: "Simple Fancy (Yellow)", en_label: "Simple Fancy (Yellow)", price: 340, vImage: "fancy_saree_1769859002432.png" },
          { label: "Designer Print (Pink)", en_label: "Designer Print (Pink)", price: 620, vImage: "fancy_saree_1769859002432.png" },
          { label: "Party Wear (Silk Blend)", en_label: "Party Wear (Silk Blend)", price: 900, vImage: "fancy_saree_1769859002432.png" }
        ],
        displayPrice: "тВ╣340 тАУ тВ╣900"
      }
    ];

    let cart = [];
    let p_mode = "GPay / PhonePe";
    let activeVarietyId = null;
    let businessUPI = "8838662641@apl"; // Updated UPI ID

    /* --- FAQ & Quotes Logic --- */
    const faqs = [
      { q_ta: "роЙроЩрпНроХро│рпН рокрпКро░рпБроЯрпНроХро│рпН роЗропро▒рпНроХрпИропро╛ройродро╛?", q_en: "Are your products natural?", a_ta: "роиро┐роЪрпНроЪропрооро╛роХ! роХро▓рокрпНрокроЯроорпН роЗро▓рпНро▓ро╛родрпБ, роЗропро▒рпНроХрпИропро╛рой роорпБро▒рпИропро┐ро▓рпН родропро╛ро░ро┐роХрпНроХрокрпНрокроЯрпНроЯ роЙропро░рпНродро░рокрпН рокрпКро░рпБроЯрпНроХро│рпИ роороЯрпНроЯрпБроорпЗ роиро╛роЩрпНроХро│рпН ро╡ро┤роЩрпНроХрпБроХро┐ро▒рпЛроорпН.", a_en: "Absolutely! We only provide high-quality products prepared in a natural way without any adulteration." },
      { q_ta: "роЯро┐ро░рпЖро▓ро┐ро╡ро░ро┐ роОро╡рпНро╡ро│ро╡рпБ роиро╛роЯрпНроХро│рпН роЖроХрпБроорпН?", q_en: "How many days for delivery?", a_ta: "роЖро░рпНроЯро░рпН роЪрпЖропрпНрод 2 роорпБродро▓рпН 4 ро╡рпЗро▓рпИ роиро╛роЯрпНроХро│рпБроХрпНроХрпБро│рпН роЙроЩрпНроХро│рпН роЗро▓рпНро▓роорпН родрпЗроЯро┐ рокрпКро░рпБроЯрпНроХро│рпН ро╡ро░рпБроорпН.", a_en: "Your products will reach your home within 2 to 4 working days after ordering." },
      { q_ta: "рокрогроорпН роЪрпЖро▓рпБродрпНродрпБроорпН роорпБро▒рпИ роОройрпНрой?", q_en: "What are the payment methods?", a_ta: "роиро╛роЩрпНроХро│рпН GPay, PhonePe рооро▒рпНро▒рпБроорпН Cash on Delivery ро╡роЪродро┐роХро│рпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒рпЛроорпН.", a_en: "We offer GPay, PhonePe, and Cash on Delivery options." },
      { q_ta: "роиро╛ройрпН роТро░ро┐роЬро┐ройро▓рпН рокрпЗроХрпНроХро┐роЩрпН рокрпБроХрпИрокрпНрокроЯроЩрпНроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХ роорпБроЯро┐ропрпБрооро╛?", q_en: "Can I see the original live/packing images?", a_ta: "роиро┐роЪрпНроЪропрооро╛роХ! роЙроЩрпНроХро│рпН роЖро░рпНроЯро░рпН роЪрпЖропрпНропрокрпНрокроЯрпБроорпН рокрпКро░рпБроЯрпНроХро│ро┐ройрпН роТро░ро┐роЬро┐ройро▓рпН рокрпБроХрпИрокрпНрокроЯроЩрпНроХро│рпИ роирпАроЩрпНроХро│рпН WhatsApp роЕро▓рпНро▓родрпБ рооро┐ройрпНройроЮрпНроЪро▓рпН роорпВро▓роорпН рокрпЖро▒рпНро▒рпБроХрпНроХрпКро│рпНро│ро▓ро╛роорпН. роЙроЩрпНроХро│рпН родро┐ро░рпБрокрпНродро┐ропрпЗ роОроородрпБ роирпЛроХрпНроХроорпН.", a_en: "Yes! You can request original live or packing images of your products via WhatsApp or Email. We are happy to show you the exact items being prepared for your order." }
    ];

    const quotes = [
      { ta: "ро╡ро╛роЯрпБроорпН рокропро┐ро░рпИроХрпН роХрогрпНроЯрокрпЛродрпЖро▓рпНро▓ро╛роорпН ро╡ро╛роЯро┐ройрпЗройрпН. - ро╡ро│рпНро│ро▓ро╛ро░рпН", en: "I withered whenever I saw a withering crop. - Vallalar" },
      { ta: "рокроЪро┐ропро╛ро▓рпН ро╡ро░рпБроирпНродрпБро╡рпЛро░рпБроХрпНроХрпБ роЙрогро╡ро┐роЯрпБро╡родрпБ роЪро┐ро▒роирпНрод роЕро▒роорпН.", en: "Feeding those who suffer from hunger is the best virtue." },
      { ta: "роЕро░рпБроЯрпНрокрпЖро░рпБроЮрпНроЬрпЛродро┐ родройро┐рокрпНрокрпЖро░рпБроЩрпНроХро░рпБрогрпИ.", en: "Arutperunjothi Thanipperungarunai (Divine Light & Mercy)." },
      { ta: "роЙропро┐ро░рпНроХрпНроХрпКро▓рпИ роЪрпЖропрпНропро╛родрпАро░рпН, роЕродрпБро╡рпЗ роЪро┐ро▒роирпНрод родро░рпНроороорпН.", en: "Do not kill any living being; that is the greatest dharma." },
      { ta: "роХро▓рокрпНрокроЯрооро▒рпНро▒ роЙрогро╡рпЗ роЖро░рпЛроХрпНроХро┐ропродрпНродро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИ.", en: "Unadulterated food is the foundation of health." }
    ];

    function initFAQs() {
      const container = document.getElementById('faqContainer');
      container.innerHTML = faqs.map((f, i) => `
        <div class="faq-item reveal">
          <div class="faq-question" onclick="this.parentElement.classList.toggle('active')">
            <span class="faq-q-text">${currentLang === 'ta' ? f.q_ta : f.q_en}</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="faq-answer">
            <p class="faq-a-text">${currentLang === 'ta' ? f.a_ta : f.a_en}</p>
          </div>
        </div>
      `).join('');
    }

    function initQuote() {
      const q = quotes[Math.floor(Math.random() * quotes.length)];
      document.getElementById('spiritQuote').innerText = currentLang === 'ta' ? q.ta : q.en;
    }

    /* --- Language Logic --- */
    let currentLang = 'ta';
    function setLang(l) {
      currentLang = l;
      document.querySelectorAll('.lang-btn').forEach(b => {
        b.classList.toggle('active', b.innerText.toLowerCase() === l);
      });

      const t = {
        en: {
          title: "JOTHIZ | Kavundapadi Country Sugar, Bhavani Jamukalam & Organic Products",
          faq: "Frequently Asked Questions",
          hero_p: "Purity тАв Quality тАв Trust",
          products: "Our Products",
          products_p: "Premium Quality Selections - Direct & Cart Orders",
          phi_h2: "Meeting Ground of the Soul Light",
          phi_p: '\"The philosophy of Vallalar, who revealed the truth of Arutperunjothi Thanipperungarunai to the world, is our foundation. Our goal is to bring clean, unadulterated products to your home.\"',
          phi_high: "Purity тАв Compassion тАв Trust",
          enq_h2: "Enquiry Form",
          enq_p: "Fill the form below for more details or bulk orders.",
          enq_name: "Your Name",
          enq_phone: "Mobile Number",
          enq_msg: "Your Message",
          marquee: "тАв All beings are one тАв Compassion is the highest virtue тАв Strive to live healthily тАв Arutperunjothi Thanipperungarunai",
          footer_copy: "┬й 2026 JOTHIZ. All Rights Reserved.",
          cart_title: "Your Cart",
          cart_total: "Total:",
          checkout: "Checkout Bulk Order",
          var_title: "Select Variety",
          add_to_cart: "Add to Cart",
          cust_name: "Customer Name",
          cust_phone: "Contact Number",
          cust_addr: "Delivery Address",
          pay_mode: "Payment Mode",
          btn_wa: "Order via WhatsApp",
          btn_email: "Send Inquiry via Email",
          live_img_msg: "ЁЯУ╕ Message us for original live/packing images!",
          img_disclaimer: "Images for reference only - T&C apply",
          story_h2: "Our Journey",
          story_p1: "Jothiz is not just a business; it is a trust. It was started with the aim of delivering unadulterated natural products to every home.",
          story_p2: "It is our primary duty to protect the health of the people by combining traditional production methods with modern quality standards.",
          test_h2: "Customer Stories",
          test_p: "Experiences of our Jothiz family members",
          promo_bar: "ЁЯОЙ Free Shipping over тВ╣1000! (Door delivery within 10km of Kavundapadi | Courier for others)",
          promo_m_h: "Wait! (Special Offer)",
          promo_m_p: "Place your first WhatsApp order today and get 10% OFF!",
          pil1_t: "Guaranteed Purity",
          pil1_d: "100% Unadulterated Natural Products",
          pil2_t: "Farmer Support",
          pil2_d: "Direct Livelihood for Village Artisans",
          pil3_t: "Freshly Packed",
          pil3_d: "Packed fresh after you place order",
          pil4_t: "Fast Delivery",
          pil4_d: "Safe Doorstep Delivery across India",
          pil5_t: "Handloom Weavers",
          pil5_d: "Supporting Traditional Handloom Artistry",
          pil6_t: "Traditional Process",
          pil6_d: "Wood Pressed & Stone Ground Methods",
          pil7_t: "Chemical Free",
          pil7_d: "No Preservatives or Artificial Colors",
          pil8_t: "Fair Price",
          pil8_d: "Direct Production - Genuine Pricing"
        },
        ta: {
          title: "JOTHIZ | роХро╡рпБроирпНродрокрпНрокро╛роЯро┐ роиро╛роЯрпНроЯрпБроЪрпНроЪро░рпНроХрпНроХро░рпИ, рокро╡ро╛ройро┐ роЬроорпБроХрпНроХро╛ро│роорпН & роЗропро▒рпНроХрпИ родропро╛ро░ро┐рокрпНрокрпБроХро│рпН",
          faq: "роЕроЯро┐роХрпНроХроЯро┐ роХрпЗроЯрпНроХрокрпНрокроЯрпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпН",
          hero_p: "родрпВропрпНроорпИ тАв родро░роорпН тАв роироорпНрокро┐роХрпНроХрпИ",
          products: "роОроЩрпНроХро│рпН рокрпКро░рпБроЯрпНроХро│рпН",
          products_p: "родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХрокрпНрокроЯрпНроЯ родро░рооро╛рой рокрпКро░рпБроЯрпНроХро│рпН - роирпЗро░роЯро┐ рооро▒рпНро▒рпБроорпН роХрпВроЯрпИ роЖро░рпНроЯро░рпНроХро│рпН",
          phi_h2: "роЖройрпНроо роТро│ро┐ропро┐ройрпН роЪроЩрпНроХроороорпН",
          phi_p: '\"роЕро░рпБроЯрпНрокрпЖро░рпБроЮрпНроЬрпЛродро┐ родройро┐рокрпНрокрпЖро░рпБроЩрпНроХро░рпБрогрпИ роОройрпНро▒ роЙрогрпНроорпИропрпИ роЙро▓роХро┐ро▒рпНроХрпБ роЙрогро░рпНродрпНродро┐роп ро╡ро│рпНро│ро▓ро╛ро░ро┐ройрпН роХрпКро│рпНроХрпИропрпЗ роОроородрпБ роЕроЯро┐родрпНродро│роорпН. роЪрпБродрпНродрооро╛рой, роХро▓рокрпНрокроЯрооро▒рпНро▒ рокрпКро░рпБроЯрпНроХро│рпН роЙроЩрпНроХро│рпН роЗро▓рпНро▓роорпН роЪрпЗро░рпНро╡родрпЗ роОроородрпБ роЗро▓роЯрпНроЪро┐ропроорпН.\"',
          phi_high: "родрпВропрпНроорпИ тАв роЙропро┐ро░рпНроирпЗропроорпН тАв роироорпНрокро┐роХрпНроХрпИ",
          enq_h2: "ро╡ро┐роЪро╛ро░рогрпИ рокроЯро┐ро╡роорпН (Enquiry Form)",
          enq_p: "роОроЩрпНроХро│рпН роорпЗро▓родро┐роХ ро╡ро┐ро╡ро░роЩрпНроХро│рпБроХрпНроХрпБ роЕро▓рпНро▓родрпБ роорпКродрпНрод роЖро░рпНроЯро░рпНроХро│рпБроХрпНроХрпБ роХрпАро┤рпЗ роЙро│рпНро│ рокроЯро┐ро╡родрпНродрпИ рокрпВро░рпНродрпНродро┐ роЪрпЖропрпНропро╡рпБроорпН.",
          enq_name: "роЙроЩрпНроХро│рпН рокрпЖропро░рпН (Name)",
          enq_phone: "роорпКрокрпИро▓рпН роОрогрпН (Phone)",
          enq_msg: "роЙроЩрпНроХро│рпН роЪрпЖропрпНродро┐ (Message)",
          marquee: "тАв роЙропро┐ро░рпНроХро│рпН роЕройрпИродрпНродрпБроорпН роТройрпНро▒рпЗ тАв роХро░рпБрогрпИропрпЗ роЙропро░рпНроирпНрод родро░рпНроороорпН тАв ро╡ро╛ро┤рпБроорпН ро╡ро░рпИ роЖро░рпЛроХрпНроХро┐ропрооро╛роХ ро╡ро╛ро┤ роорпБропро▒рпНроЪро┐ роЪрпЖропрпН тАв роЕро░рпБроЯрпН рокрпЖро░рпБроорпН роЬрпЛродро┐ родройро┐рокрпНрокрпЖро░рпБроЩрпНроХро░рпБрогрпИ",
          footer_copy: "┬й 2026 JOTHIZ. роЕройрпИродрпНродрпБ роЙро░ро┐роорпИроХро│рпБроорпН рокро╛родрпБроХро╛роХрпНроХрокрпНрокроЯрпНроЯро╡рпИ.",
          cart_title: "роЙроЩрпНроХро│рпН роХрпВроЯрпИ (Cart)",
          cart_total: "роорпКродрпНродроорпН:",
          checkout: "рокрпЖро░ро┐роп роЖро░рпНроЯро░рпН роЪрпЖропрпНроХ (Checkout)",
          var_title: "ро╡роХрпИ родрпЗро░рпНро╡рпБ роЪрпЖропрпНропро╡рпБроорпН",
          add_to_cart: "роХрпВроЯрпИропро┐ро▓рпН роЪрпЗро░рпНроХрпНроХ (Add to Cart)",
          cust_name: "рокрпЖропро░рпН (Customer Name)",
          cust_phone: "родрпКроЯро░рпНрокрпБ роОрогрпН (Contact Number)",
          cust_addr: "роорпБроХро╡ро░ро┐ (Delivery Address)",
          pay_mode: "рокрогроорпН (Payment Mode)",
          btn_wa: "WhatsApp роЖро░рпНроЯро░рпН роЪрпЖропрпНроХ",
          btn_email: "роЕройрпБрокрпНрокрпБ (Send Inquiry via Email)",
          live_img_msg: "ЁЯУ╕ роТро░ро┐роЬро┐ройро▓рпН рокрпЗроХрпНроХро┐роЩрпН рокрпБроХрпИрокрпНрокроЯроЩрпНроХро│рпБроХрпНроХрпБ роОроЩрпНроХро│рпИ родрпКроЯро░рпНрокрпБ роХрпКро│рпНро│ро╡рпБроорпН!",
          img_disclaimer: "рокроЯроЩрпНроХро│рпН роХрпБро▒ро┐рокрпНрокрпБроХрпНроХро╛роХ роороЯрпНроЯрпБроорпЗ - роиро┐рокроирпНродройрпИроХро│рпН рокрпКро░рпБроирпНродрпБроорпН",
          story_h2: "роОроородрпБ рокропрогроорпН (Our Story)",
          story_p1: "роЬрпЛродро┐ро╕рпН роТро░рпБ ро╡ро┐ропро╛рокро╛ро░роорпН роороЯрпНроЯрпБрооро▓рпНро▓, роЕродрпБ роТро░рпБ роироорпНрокро┐роХрпНроХрпИ. роХро▓рокрпНрокроЯрооро▒рпНро▒ роЗропро▒рпНроХрпИ родропро╛ро░ро┐рокрпНрокрпБроХро│рпН роТро╡рпНро╡рпКро░рпБ ро╡рпАроЯрпНроЯрпИропрпБроорпН роЪрпЖройрпНро▒роЯрпИроп ро╡рпЗрогрпНроЯрпБроорпН роОройрпНро▒ роирпЛроХрпНроХродрпНродро┐ро▓рпН родрпКроЯроЩрпНроХрокрпНрокроЯрпНроЯродрпБ.",
          story_p2: "рокро╛ро░роорпНрокро░ро┐роп родропро╛ро░ро┐рокрпНрокрпБ роорпБро▒рпИроХро│рпИропрпБроорпН, роиро╡рпАрой родро░родрпНродрпИропрпБроорпН роЗрогрпИродрпНродрпБ, роороХрпНроХро│ро┐ройрпН роЖро░рпЛроХрпНроХро┐ропродрпНродрпИ роХро╛рокрпНрокродрпЗ роОроородрпБ родро▓рпИропро╛роп роХроЯроорпИ.",
          test_h2: "ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН роХро░рпБродрпНродрпБроХрпНроХро│рпН",
          test_p: "роОроЩрпНроХро│рпН роЬрпЛродро┐ро╕рпН роХрпБроЯрпБроорпНрок роЙро▒рпБрокрпНрокро┐ройро░рпНроХро│ро┐ройрпН роЕройрпБрокро╡роЩрпНроХро│рпН",
          promo_bar: "ЁЯОЙ роЪро┐ро▒рокрпНрокрпБ роЪро▓рпБроХрпИ! тВ╣1000-роХрпНроХрпБ роорпЗро▓рпН роЗро▓ро╡роЪ роЯрпЖро▓ро┐ро╡ро░ро┐! (роХро╡рпБроирпНродрокрпНрокро╛роЯро┐ роЪрпБро▒рпНро▒ро┐ 10роХро┐роорпА - роЯрпЛро░рпН роЯрпЖро▓ро┐ро╡ро░ро┐ | рооро▒рпНро▒ роЗроЯроЩрпНроХро│рпБроХрпНроХрпБ роХрпКро░ро┐ропро░рпН)",
          promo_m_h: "роХро╛родрпНродро┐ро░рпБроЩрпНроХро│рпН! (Special Offer)",
          promo_m_p: "роЗройрпНро▒рпЗ роЙроЩрпНроХро│рпН роорпБродро▓рпН WhatsApp роЖро░рпНроЯро░рпИроЪрпН роЪрпЖропрпНродрпБ 10% родро│рпНро│рпБрокроЯро┐ рокрпЖро▒рпБроЩрпНроХро│рпН!",
          pil1_t: "роЙродрпНродро░ро╡ро╛родрооро╛рой родрпВропрпНроорпИ",
          pil1_d: "100% роХро▓рокрпНрокроЯрооро▒рпНро▒ роЗропро▒рпНроХрпИ родропро╛ро░ро┐рокрпНрокрпБроХро│рпН",
          pil2_t: "ро╡ро┐ро╡роЪро╛ропро┐роХро│рпН роЖродро░ро╡рпБ",
          pil2_d: "роХро┐ро░ро╛рооро┐роп роХро▓рпИроЮро░рпНроХро│ро┐ройрпН роирпЗро░роЯро┐ ро╡ро╛ро┤рпНро╡ро╛родро╛ро░роорпН",
          pil3_t: "рокрпБродро┐роп рокрпЗроХрпНроХро┐роЩрпН",
          pil3_d: "роЖро░рпНроЯро░рпН роЪрпЖропрпНрод рокро┐ройрпН рокрпБродро┐ропродро╛роХ рокрпЗроХрпНроХро┐роЩрпН",
          pil4_t: "ро╡рпЗроХрооро╛рой роЯрпЖро▓ро┐ро╡ро░ро┐",
          pil4_d: "рокро╛родрпБроХро╛рокрпНрокро╛рой роорпБро▒рпИропро┐ро▓рпН роЯрпЛро░рпН роЯрпЖро▓ро┐ро╡ро░ро┐",
          pil5_t: "роХрпИродрпНродро▒ро┐ роирпЖроЪро╡ро╛ро│ро░рпН",
          pil5_d: "рокро╛ро░роорпНрокро░ро┐роп роирпЖроЪро╡ро╛ро│ро░рпНроХро│ро┐ройрпН роХрпИро╡рогрпНрогроорпН",
          pil6_t: "рокро╛ро░роорпНрокро░ро┐роп родропро╛ро░ро┐рокрпНрокрпБ",
          pil6_d: "рооро░роЪрпНроЪрпЖроХрпНроХрпБ рооро▒рпНро▒рпБроорпН рокро╛ро░роорпНрокро░ро┐роп роорпБро▒рпИроХро│рпН",
          pil7_t: "роЗро░роЪро╛ропройроорпН роЕро▒рпНро▒родрпБ",
          pil7_d: "роиро┐ро▒роорпВроЯрпНроЯро┐роХро│рпН рооро▒рпНро▒рпБроорпН роХрпЖрооро┐роХрпНроХро▓рпН роЗро▓рпНро▓рпИ",
          pil8_t: "роиро┐ропро╛ропрооро╛рой ро╡ро┐ро▓рпИ",
          pil8_d: "роирпЗро░роЯро┐ родропро╛ро░ро┐рокрпНрокрпБ - роХрпБро▒рпИроирпНрод ро╡ро┐ро▓рпИ"
        }
      };

      const lang = t[l];
      document.title = lang.title;

      const updateText = (id, text) => {
        const el = document.getElementById(id);
        if (el) el.innerText = text || "";
      };

      updateText('faqTitle', lang.faq);
      updateText('heroSubtitle', lang.hero_p);
      updateText('productsTitle', lang.products);
      updateText('productsDesc', lang.products_p);
      updateText('enquiryTitle', lang.enq_h2);
      updateText('enquiryDesc', lang.enq_p);
      updateText('phiTitle', lang.phi_h2);
      updateText('phiDesc', lang.phi_p);
      updateText('phiHigh', lang.phi_high);
      updateText('marqueeText', lang.marquee);
      updateText('labelVariety', lang.var_title);
      updateText('labelName', lang.cust_name);
      updateText('labelPhone', lang.cust_phone);
      updateText('labelAddress', lang.cust_addr);
      updateText('labelPayment', lang.pay_mode);
      updateText('submitBtn', lang.btn_email);

      // New Sections
      updateText('storyTitle', lang.story_h2);
      updateText('storyDesc1', lang.story_p1);
      updateText('storyDesc2', lang.story_p2);
      updateText('testTitle', lang.test_h2);
      updateText('testDesc', lang.test_p);

      // Promo Box
      updateText('promoText', lang.promo_bar);
      updateText('promoModalTitle', lang.promo_m_h);
      updateText('promoModalDesc', lang.promo_m_p);

      updateText('pil1Title', lang.pil1_t);
      updateText('pil1Desc', lang.pil1_d);
      updateText('pil2Title', lang.pil2_t);
      updateText('pil2Desc', lang.pil2_d);
      updateText('pil3Title', lang.pil3_t);
      updateText('pil3Desc', lang.pil3_d);
      updateText('pil4Title', lang.pil4_t);
      updateText('pil4Desc', lang.pil4_d);
      updateText('pil5Title', lang.pil5_t);
      updateText('pil5Desc', lang.pil5_d);
      updateText('pil6Title', lang.pil6_t);
      updateText('pil6Desc', lang.pil6_d);
      updateText('pil7Title', lang.pil7_t);
      updateText('pil7Desc', lang.pil7_d);
      updateText('pil8Title', lang.pil8_t);
      updateText('pil8Desc', lang.pil8_d);

      // Footer & Modal
      updateText('footerCopy', lang.footer_copy);
      updateText('cartTitle', lang.cart_title);
      updateText('cartTotalLabel', lang.cart_total);
      updateText('checkoutBtn', lang.checkout);
      updateText('confirmBtn', lang.btn_wa);
      updateText('varietyTitle', lang.var_title);
      updateText('addToCartBtn', lang.add_to_cart);
      updateText('quickLiveImgNote', lang.live_img_msg);
      updateText('cartLiveImgNote', lang.live_img_msg);
      updateText('quickImgDisclaimer', lang.img_disclaimer);
      updateText('cartImgDisclaimer', lang.img_disclaimer);

      // Placeholders
      const iName = document.getElementById('name'); if (iName) iName.placeholder = lang.enq_name;
      const iPhone = document.getElementById('phone'); if (iPhone) iPhone.placeholder = lang.enq_phone;
      const iMsg = document.getElementById('message'); if (iMsg) iMsg.placeholder = lang.enq_msg;

      initFAQs();
      renderProducts();
      updateCartUI();
      initQuote();
      initReveal(); // Re-bind observer to new elements
      initStructuredData();
    }

    function init() {
      renderProducts();
      initFAQs();
      initQuote();
      initReveal();
      loadCart();
      updateCartUI();
      initMarketing();
      initStructuredData();
    }

    function initStructuredData() {
      const ldData = {
        "@context": "https://schema.org/",
        "@type": "ItemList",
        "itemListElement": products.map((p, idx) => ({
          "@type": "ListItem",
          "position": idx + 1,
          "item": {
            "@type": "Product",
            "name": p.en_name,
            "description": p.en_points.join(", "),
            "image": window.location.origin + "/" + p.image,
            "offers": {
              "@type": "AggregateOffer",
              "priceCurrency": "INR",
              "lowPrice": p.priceOptions[0].price,
              "offerCount": p.priceOptions.length
            }
          }
        }))
      };
      const script = document.createElement('script');
      script.type = 'application/ld+json';
      script.text = JSON.stringify(ldData);
      document.head.appendChild(script);
    }

    /* --- Marketing Logic --- */
    let promoShown = false;
    function initMarketing() {
      // Exit intent
      document.addEventListener('mouseleave', (e) => {
        if (e.clientY < 0 && !promoShown) {
          showPromoModal();
        }
      });

      // Time-based fallback (30 seconds)
      setTimeout(() => {
        if (!promoShown) showPromoModal();
      }, 30000);
    }

    function showPromoModal() {
      if (promoShown) return;
      document.getElementById('promoModal').classList.add('active');
      document.getElementById('overlay').classList.add('active');
      promoShown = true;
    }

    function openModal(id) {
      document.getElementById(id).classList.add('active');
      document.getElementById('overlay').classList.add('active');
    }

    function closeModal(id) {
      if (!id) return;
      const el = document.getElementById(id);
      if (el) el.classList.remove('active');
      document.getElementById('overlay').classList.remove('active');
    }

    function closePromoModal() {
      closeModal('promoModal');
    }

    function renderProducts() {
      const grid = document.getElementById('productsGrid');
      grid.innerHTML = products.map(p => {
        const title = currentLang === 'ta' ? p.name : p.en_name;
        const pts = currentLang === 'ta' ? p.points : p.en_points;

        return `
                <div class="product-card reveal">
                    ${p.topSeller ? `<div class="product-badge" style="background:#ff4757; color:white;">Top Rated</div>` : (p.badge ? `<div class="product-badge">${p.badge}</div>` : '')}
                    <div class="product-image">
                        <img src="${p.image}" alt="${title}" loading="lazy">
                        <div class="img-disclaimer">
                          ${currentLang === 'ta' ? 'рокроЯроЩрпНроХро│рпН роХрпБро▒ро┐рокрпНрокрпБроХрпНроХро╛роХ роороЯрпНроЯрпБроорпЗ - роиро┐рокроирпНродройрпИроХро│рпН рокрпКро░рпБроирпНродрпБроорпН' : 'Images for reference only - T&C apply'}
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-category">${p.category}</div>
                        <h3 class="product-name">${title}</h3>
                        <ul class="product-desc">${pts.map(pt => `<li>${pt}</li>`).join('')}</ul>
                        <div class="product-actions">
                            <div class="price-display">${p.displayPrice}</div>
                            <div class="action-buttons">
                                <button class="btn btn-cart" onclick="startAddToCart(${p.id})">${currentLang === 'ta' ? 'роХрпВроЯрпИропро┐ро▓рпН роЪрпЗро░рпНроХрпНроХ' : 'Add to Cart'}</button>
                                <button class="btn btn-order" onclick="openWhatsAppCheckout(${p.id})">
                                  <svg style="width:18px; fill:currentColor;" viewBox="0 0 24 24"><path d="M12.04 2c-5.52 0-10 4.48-10 10 0 1.9.53 3.66 1.45 5.17l-1.45 5.34 5.48-1.42c1.47.8 3.12 1.25 4.88 1.25 5.52 0 10-4.48 10-10s-4.48-10-10-10zm5.66 14.22c-.24.67-1.19 1.24-1.63 1.33-.44.1-1 .18-1.62-.03-.62-.21-1.39-.48-2.32-.88-3.92-1.68-6.47-5.64-6.66-5.89-.2-.25-1.55-2.07-1.55-3.95 0-1.88.98-2.8 1.33-3.2.35-.4.77-.5 1.02-.5h.74c.24 0 .48.06.68.53.2.47.69 1.68.75 1.8.06.12.1.26.02.42-.08.16-.12.26-.24.41-.12.15-.26.34-.37.45-.12.13-.25.28-.1.54.15.26.66 1.09 1.42 1.77.97.87 1.78 1.14 2.05 1.27.27.13.43.11.59-.08.16-.19.69-.8 1.15-1.42.34-.47.53-.4.82-.29.3.11 1.88.89 2.2 1.05.32.16.54.24.61.37.07.13.07.75-.17 1.42z"/></svg>
                                  ${currentLang === 'ta' ? 'WhatsApp роЖро░рпНроЯро░рпН' : 'WhatsApp Order'}
                                </button>
                            </div>
                            <div style="margin-top: 15px; display: flex; align-items: center; gap: 8px; font-size: 11px; color: var(--primary-light); font-weight: 600;">
                                <svg style="width:14px; fill:currentColor;" viewBox="0 0 24 24"><path d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z"/></svg>
                                ${currentLang === 'ta' ? '100% роЕроЪро▓рпН родропро╛ро░ро┐рокрпНрокрпБ' : '100% Authentic Product'}
                            </div>
                            <button class="btn btn-whatsapp-direct" style="width:100%; margin-top:10px; background:#25D366; color:white;" onclick="directWhatsApp(${p.id})">
                                <svg style="width:18px; fill:white;" viewBox="0 0 24 24"><path d="M12.04 2c-5.52 0-10 4.48-10 10 0 1.9.53 3.66 1.45 5.17l-1.45 5.34 5.48-1.42c1.47.8 3.12 1.25 4.88 1.25 5.52 0 10-4.48 10-10s-4.48-10-10-10zm5.66 14.22c-.24.67-1.19 1.24-1.63 1.33-.44.1-1 .18-1.62-.03-.62-.21-1.39-.48-2.32-.88-3.92-1.68-6.47-5.64-6.66-5.89-.2-.25-1.55-2.07-1.55-3.95 0-1.88.98-2.8 1.33-3.2.35-.4.77-.5 1.02-.5h.74c.24 0 .48.06.68.53.2.47.69 1.68.75 1.8.06.12.1.26.02.42-.08.16-.12.26-.24.41-.12.15-.26.34-.37.45-.12.13-.25.28-.1.54.15.26.66 1.09 1.42 1.77.97.87 1.78 1.14 2.05 1.27.27.13.43.11.59-.08.16-.19.69-.8 1.15-1.42.34-.47.53-.4.82-.29.3.11 1.88.89 2.2 1.05.32.16.54.24.61.37.07.13.07.75-.17 1.42z"/></svg>
                                ${currentLang === 'ta' ? 'ро╡ро┐ро▓рпИ ро╡ро┐ро╡ро░роорпН роХрпЗроЯрпНроХ (Chat)' : 'Ask Price / Chat'}
                            </button>
                        </div>
                    </div>
                </div>
            `;
      }).join('');
    }

    function directWhatsApp(id) {
      const p = products.find(prod => prod.id === id);
      const title = currentLang === 'ta' ? p.name : p.en_name;
      const msg = encodeURIComponent(`ро╡рогроХрпНроХроорпН JOTHIZ, роиро╛ройрпН *${title}* рокро▒рпНро▒ро┐ роорпЗро▓рпБроорпН ро╡ро┐ро╡ро░роорпН роЕро▒ро┐роп ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпЗройрпН. роЗродройрпН ро╡ро┐ро▓рпИ рооро▒рпНро▒рпБроорпН роЯрпЖро▓ро┐ро╡ро░ро┐ ро╡ро┐ро╡ро░роЩрпНроХро│рпН роЪрпКро▓рпНро▓ роорпБроЯро┐ропрпБрооро╛?`);
      window.location.href = `https://wa.me/918838662641?text=${msg}`;
    }

    function openWhatsAppCheckout(id) {
      const p = products.find(prod => prod.id === id);
      const title = currentLang === 'ta' ? p.name : p.en_name;
      const msg = encodeURIComponent(`Hi JOTHIZ, I want to order *${title}*. Please share the available varieties and total price.`);
      window.location.href = `https://wa.me/918838662641?text=${msg}`;
    }

    /* --- ADD TO CART FLOW --- */
    function startAddToCart(id) {
      activeVarietyId = id;
      const p = products.find(prod => prod.id === id);
      const title = currentLang === 'ta' ? p.name : p.en_name;
      document.getElementById('varietyProductName').innerText = title;

      const sel = document.getElementById('varietySelectCart');
      sel.innerHTML = p.priceOptions.map((o, i) => {
        const label = currentLang === 'ta' ? o.label : o.en_label;
        return `<option value="${i}">${label} - тВ╣${o.price}</option>`;
      }).join('');

      // Set initial variety image logic
      updateCartVarietyImage();

      document.getElementById('varietyModal').classList.add('active');
      document.getElementById('overlay').classList.add('active');
    }

    function updateCartVarietyImage() {
      const p = products.find(prod => prod.id === activeVarietyId);
      const idx = document.getElementById('varietySelectCart').value;
      const imgEl = document.getElementById('cartVarietyImg');
      if (p && p.priceOptions[idx]) {
        imgEl.src = p.priceOptions[idx].vImage || p.image;
        // Animation trigger
        imgEl.style.transform = 'scale(0.9)';
        setTimeout(() => imgEl.style.transform = 'scale(1)', 100);
      }
    }

    function confirmAddToCart() {
      const p = products.find(prod => prod.id === activeVarietyId);
      const idx = document.getElementById('varietySelectCart').value;
      const variant = p.priceOptions[idx];

      const cartKey = `${p.id}-${idx}`;
      const exists = cart.find(i => i.cartKey === cartKey);

      if (exists) {
        exists.qty++;
      } else {
        cart.push({
          cartKey: cartKey,
          id: p.id,
          image: p.image,
          vIdx: idx,
          qty: 1
        });
      }

      closeVarietyModal();
      const title = currentLang === 'ta' ? p.name : p.en_name;
      showToast(`${title} ${currentLang === 'ta' ? 'роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпНроЯродрпБ!' : 'Added!'}`);
      saveCart();
      updateCartUI();
    }

    function toggleCart() {
      document.getElementById('cartSidebar').classList.toggle('open');
      document.getElementById('overlay').classList.toggle('active');
    }

    function updateCartUI() {
      const badge = document.getElementById('cartBadge');
      const items = document.getElementById('cartItems');
      const total = document.getElementById('cartTotal');

      // Calculate totals
      let count = 0;
      let totalPrice = 0;
      cart.forEach(item => {
        const p = products.find(prod => prod.id === item.id);
        if (!p) return;
        const vIdx = item.vIdx !== undefined ? item.vIdx : 0;
        const variant = p.priceOptions[vIdx];
        if (!variant) return;
        count += item.qty;
        totalPrice += (variant.price * item.qty);
      });

      badge.innerText = count;
      badge.style.display = count > 0 ? 'flex' : 'none';
      total.innerText = `тВ╣${totalPrice}`;

      if (cart.length === 0) {
        const msg = currentLang === 'ta' ? "роЙроЩрпНроХро│рпН роХрпВроЯрпИ роХро╛ро▓ро┐ропро╛роХ роЙро│рпНро│родрпБ." : "Your cart is empty.";
        items.innerHTML = `<div style="text-align:center; padding:40px; color:var(--text-light); opacity:0.5;">${msg}</div>`;
      } else {
        items.innerHTML = cart.map((item, idx) => {
          const p = products.find(prod => prod.id === item.id);
          if (!p) return '';
          const vIdx = item.vIdx !== undefined ? item.vIdx : 0;
          const variant = p.priceOptions[vIdx];
          if (!variant) return '';

          const name = currentLang === 'ta' ? p.name : p.en_name;
          const vLabel = currentLang === 'ta' ? variant.label : (variant.en_label || variant.label);

          return `
                    <div class="cart-item">
                        <img src="${item.image}" class="cart-item-img">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${name}</div>
                            <div class="cart-item-variant">${vLabel}</div>
                            <div class="cart-item-price">тВ╣${variant.price}</div>
                            <div class="cart-item-controls">
                                <button class="qty-btn" onclick="updateQty('${item.cartKey}', -1)">-</button>
                                <span>${item.qty}</span>
                                <button class="qty-btn" onclick="updateQty('${item.cartKey}', 1)">+</button>
                                <button class="remove-btn" onclick="removeItem('${item.cartKey}')">&times;</button>
                            </div>
                        </div>
                    </div>
                `;
        }).join('');
      }
    }

    function updateQty(key, d) {
      const item = cart.find(i => i.cartKey === key);
      if (item) {
        item.qty += d;
        if (item.qty <= 0) cart = cart.filter(i => i.cartKey !== key);
        saveCart();
        updateCartUI();
      }
    }

    function removeItem(key) {
      cart = cart.filter(i => i.cartKey !== key);
      saveCart();
      updateCartUI();
    }

    /* --- QUICK ORDER FLOW --- */
    function openQuickOrder(id) {
      const p = products.find(prod => prod.id === id);
      document.getElementById('flowType').value = 'quick';
      document.getElementById('quickProductId').value = p.id;
      const title = currentLang === 'ta' ? p.name : p.en_name;
      document.getElementById('modalTitle').innerText = title;
      document.getElementById('varietyGroup').style.display = 'block';
      document.getElementById('quickVarietyPreview').style.display = 'block';

      const sel = document.getElementById('quickPriceSelector');
      sel.innerHTML = p.priceOptions.map((o, i) => {
        const label = currentLang === 'ta' ? o.label : o.en_label;
        return `<option value="${i}">${label} - тВ╣${o.price}</option>`;
      }).join('');

      updateQuickOrderVariety();

      document.getElementById('orderModal').classList.add('active');
      document.getElementById('overlay').classList.add('active');
    }

    function updateQuickOrderVariety() {
      const pId = document.getElementById('quickProductId').value;
      const p = products.find(prod => prod.id == pId);
      const idx = document.getElementById('quickPriceSelector').value;
      const imgEl = document.getElementById('quickVarietyImg');

      if (p && p.priceOptions[idx]) {
        imgEl.src = p.priceOptions[idx].vImage || p.image;
        updateModalTotal();
        // Animation
        imgEl.style.transform = 'scale(0.9)';
        setTimeout(() => imgEl.style.transform = 'scale(1)', 100);
      }
    }

    /* --- MODAL CHANNELS --- */
    function openCheckoutModal() {
      const msg = currentLang === 'ta' ? "роХрпВроЯрпИ роХро╛ро▓ро┐ропро╛роХ роЙро│рпНро│родрпБ!" : "Your cart is empty!";
      if (cart.length === 0) return alert(msg);
      toggleCart(); // Close sidebar
      document.getElementById('flowType').value = 'cart';
      const title = currentLang === 'ta' ? "роорпКродрпНрод роЖро░рпНроЯро░рпН (Cart Items)" : "Complete Bulk Order";
      document.getElementById('modalTitle').innerText = title;
      document.getElementById('varietyGroup').style.display = 'none';
      document.getElementById('quickVarietyPreview').style.display = 'none'; // Hide preview for bulk
      document.getElementById('orderModal').classList.add('active');
      document.getElementById('overlay').classList.add('active');
      updateModalTotal();
    }

    function updateModalTotal() {
      const flow = document.getElementById('flowType').value;
      let total = 0;
      if (flow === 'quick') {
        const pId = document.getElementById('quickProductId').value;
        const p = products.find(prod => prod.id == pId);
        const idx = document.getElementById('quickPriceSelector').value;
        if (p && p.priceOptions[idx]) {
          total = p.priceOptions[idx].price;
        }
      } else if (flow === 'cart' || flow === '') {
        total = cart.reduce((s, item) => {
          const p = products.find(prod => prod.id === item.id);
          if (!p) return s;
          const variant = p.priceOptions[item.vIdx];
          if (!variant) return s;
          return s + (variant.price * item.qty);
        }, 0);
      }

      const displayTotal = document.getElementById('modalTotalDisplay');
      if (displayTotal) displayTotal.innerText = `тВ╣${total}`;
    }

    function sendEmailOrder() {
      const subject = encodeURIComponent("Bulk Order Inquiry - JOTHIZ");
      const body = encodeURIComponent("Hello JOTHIZ Team,\n\nI am interested in placing an order for your products. Please provide more details on bulk pricing and delivery.\n\nThank you.");
      window.location.href = `mailto:jothizproducts@gmail.com?subject=${subject}&body=${body}`;
    }

    function selectPayment(el, val) {
      document.querySelectorAll('.payment-opt').forEach(opt => opt.classList.remove('selected'));
      el.classList.add('selected');
      p_mode = val;
    }

    function processFinalOrder() {
      const name = document.getElementById('custName').value.trim();
      const phone = document.getElementById('custPhone').value.trim();
      const addr = document.getElementById('custAddress').value.trim();
      if (!name || !phone || !addr) return alert("родропро╡рпБроЪрпЖропрпНродрпБ роЕройрпИродрпНродрпБ ро╡ро┐ро╡ро░роЩрпНроХро│рпИропрпБроорпН рокрпВро░рпНродрпНродро┐ роЪрпЖропрпНропро╡рпБроорпН!");

      const flow = document.getElementById('flowType').value;
      let msg = `*NEW ORDER FROM JOTHIZ*\n--------------------------\n*Customer:* ${name}\n*Phone:* ${phone}\n`;
      let total = 0;

      if (flow === 'quick') {
        const pId = document.getElementById('quickProductId').value;
        const p = products.find(prod => prod.id == pId);
        const idx = document.getElementById('quickPriceSelector').value;
        const variant = p.priceOptions[idx];
        const vLabel = currentLang === 'ta' ? variant.label : variant.en_label;
        total = variant.price;
        msg += `*Order Mode:* Quick Order\n*Item:* ${p.name}\n*Variety:* ${vLabel}\n*Price:* тВ╣${total}\n`;
      } else {
        msg += `*Order Mode:* Cart Checkout\n*Items:*\n`;
        cart.forEach(item => {
          const p = products.find(prod => prod.id === item.id);
          if (!p) return;
          const variant = p.priceOptions[item.vIdx];
          if (!variant) return;

          const name = currentLang === 'ta' ? p.name : p.en_name;
          const vLabel = currentLang === 'ta' ? variant.label : variant.en_label;
          const lineTotal = variant.price * item.qty;

          msg += `тАв ${name} (${vLabel}) x ${item.qty} = тВ╣${lineTotal}\n`;
          total += lineTotal;
        });
      }

      msg += `--------------------------\n*Total Amount:* тВ╣${total}\n*Payment:* ${p_mode}\n*Address:* ${addr}\n--------------------------\nроиройрпНро▒ро┐! ЁЯЩП`;

      const encodedMsg = encodeURIComponent(msg);

      // Open WhatsApp by default as it's the primary channel
      window.open(`https://wa.me/918838662641?text=${encodedMsg}`, '_blank');

      // Clear popup values
      document.getElementById('custName').value = '';
      document.getElementById('custPhone').value = '';
      document.getElementById('custAddress').value = '';

      if (flow === 'cart') { cart = []; saveCart(); updateCartUI(); }
      closeAll();
    }

    async function handlePaymentAndOrder() {
      const name = document.getElementById('custName').value.trim();
      const phone = document.getElementById('custPhone').value.trim();
      const addr = document.getElementById('custAddress').value.trim();
      if (!name || !phone || !addr) return alert("родропро╡рпБроЪрпЖропрпНродрпБ роЕройрпИродрпНродрпБ ро╡ро┐ро╡ро░роЩрпНроХро│рпИропрпБроорпН рокрпВро░рпНродрпНродро┐ роЪрпЖропрпНропро╡рпБроорпН!");

      if (p_mode === 'Cash on Delivery') {
        processFinalOrder();
        return;
      }

      // Online Payment Logic
      const flow = document.getElementById('flowType').value;
      let totalAmount = 0;
      let orderDetails = "";

      if (flow === 'quick') {
        const pId = document.getElementById('quickProductId').value;
        const p = products.find(prod => prod.id == pId);
        const idx = document.getElementById('quickPriceSelector').value;
        const variant = p.priceOptions[idx];
        totalAmount = variant.price;
        orderDetails = `${p.name} (${variant.label})`;
      } else {
        totalAmount = cart.reduce((s, item) => {
          const p = products.find(prod => prod.id === item.id);
          const variant = p.priceOptions[item.vIdx];
          return s + (variant.price * item.qty);
        }, 0);
        orderDetails = `Cart Items (${cart.length} types)`;
      }

      // For Static Sites, we use the "Razorpay Standard Checkout" 
      const options = {
        "key": "rzp_test_YOUR_KEY_HERE", // User needs to replace this
        "amount": totalAmount * 100,
        "currency": "INR",
        "name": "JOTHIZ",
        "description": orderDetails,
        "image": "jothiz_logo.png",
        "handler": function (response) {
          alert("Payment Successful! TXN ID: " + response.razorpay_payment_id);
          processFinalOrder(response.razorpay_payment_id);
        },
        "prefill": {
          "name": name,
          "contact": phone
        },
        "theme": {
          "color": "#1b4332"
        }
      };

      // Check if UPI link is better (for mobile)
      if (/Android|iPhone|iPad/i.test(navigator.userAgent) && p_mode === 'GPay / PhonePe') {
        const upiUrl = `upi://pay?pa=${businessUPI}&pn=JOTHIZ&am=${totalAmount}&tn=Order_${Date.now()}&cu=INR`;
        window.location.href = upiUrl;
        // After redirect, we still need to process order, so we'll show a prompt
        setTimeout(() => {
          if (confirm("Have you completed the payment? Click OK to send your order via WhatsApp.")) {
            processFinalOrder("UPI_PAID");
          }
        }, 3000);
      } else {
        const rzp1 = new Razorpay(options);
        rzp1.open();
      }
    }

    /* --- NEW: Email Order Function --- */
    function sendEmailOrder() {
      const subject = encodeURIComponent("New Product Inquiry - JOTHIZ");
      const body = encodeURIComponent("Hello JOTHIZ,\n\nI am interested in your products. Please contact me for details.\n\nMy Details:\nName: \nPhone: \nInterested Products: ");
      window.location.href = `mailto:jothizproducts@gmail.com?subject=${subject}&body=${body}`;
    }

    /* --- HELPERS --- */
    function saveCart() { localStorage.setItem('j_cart_v3', JSON.stringify(cart)); }
    function loadCart() { const s = localStorage.getItem('j_cart_v3'); if (s) cart = JSON.parse(s); }

    function closeVarietyModal() { closeModal('varietyModal'); }
    function closeOrderModal() { closeModal('orderModal'); }
    function closeAll() {
      document.getElementById('cartSidebar').classList.remove('open');
      document.querySelectorAll('.modal').forEach(m => m.classList.remove('active'));
      document.getElementById('overlay').classList.remove('active');
    }

    function showToast(m) {
      const t = document.getElementById('toast');
      t.innerText = m;
      t.classList.add('show');

      const cartIcon = document.querySelector('.cart-icon-wrapper');
      cartIcon.classList.remove('cart-pulse');
      void cartIcon.offsetWidth; // Trigger reflow
      cartIcon.classList.add('cart-pulse');

      setTimeout(() => t.classList.remove('show'), 3000);
    }

    window.addEventListener('scroll', () => {
      const topBtn = document.getElementById('backToTop');
      if (window.scrollY > 500) {
        topBtn.classList.add('show');
      } else {
        topBtn.classList.remove('show');
      }
    });

    /* Enquiry Form Handler moved to secure-form.js */

    /* --- Scroll Reveal Logic --- */
    function initReveal() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('active');
          }
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
    }

    /* --- Cursor Aura Logic --- */
    const aura = document.getElementById('cursorAura');
    if (aura) {
      document.addEventListener('mousemove', (e) => {
        aura.style.left = e.clientX + 'px';
        aura.style.top = e.clientY + 'px';
        aura.style.opacity = '1';
      });

      document.addEventListener('mouseleave', () => {
        aura.style.opacity = '0';
      });
    }

    init();
  </script>
  <script src="secure-form.js"></script>
</body>

</html>